# <!-- Powered by BMAD™ Core -->
workflow:
  id: quick-fix
  name: Quick Fix Workflow
  description: >-
    Streamlined workflow for bug fixes and small features. Minimal overhead,
    direct to implementation. Perfect for quick changes that don't require
    full planning cycle.
  type: quick-flow
  project_types:
    - bug-fix
    - small-feature
    - hotfix
    - minor-enhancement

  sequence:
    - step: analyze_change
      action: understand_scope
      notes: |
        Quickly analyze the change:
        - What needs to be fixed/added?
        - Which files are affected?
        - Is this a single service/module change?
        - Any dependencies or side effects?

    - agent: dev
      action: create_tech_spec
      creates: tech-spec.md (optional)
      notes: |
        OPTIONAL: For slightly complex fixes, create a brief tech spec:
        - What will change
        - How it will be implemented
        - Testing approach
        - Estimated time
        
        For very simple fixes, skip this step.

    - agent: dev
      action: implement_fix
      creates: implementation_files
      requires: understanding_of_scope
      notes: |
        Dev Agent: @dev
        - Implement the fix/feature
        - Write tests (unit tests minimum)
        - Update File List with changes
        - Mark as "Ready for Review" when complete

    - agent: qa
      action: quick_review
      updates: implementation_files
      requires: implementation_files
      optional: true
      notes: |
        OPTIONAL: QA Agent: @qa → review-story
        - Quick review focused on:
          * Does it fix the issue?
          * Are tests adequate?
          * Any obvious bugs?
        - Fix small issues directly
        - Approve or request minor fixes

    - step: verify_completion
      action: confirm_fix
      notes: |
        Verify:
        - Fix addresses the issue
        - Tests pass
        - No regressions
        - Ready to commit

  # SVG diagram can be added here or referenced externally
  # svg_diagram: |
  #   <svg>...</svg>
  # svg_diagram_file: "workflows/diagrams/quick-fix.svg"
  
  flow_diagram: |
    ```mermaid
    graph TD
        A[Start: Bug Fix / Small Feature] --> B[Analyze Change Scope]
        B --> C{Complex enough for spec?}
        C -->|Yes| D[dev: Create Brief Tech Spec]
        C -->|No| E[dev: Implement Fix]
        D --> E
        E --> F{QA Review?}
        F -->|Yes| G[qa: Quick Review]
        F -->|No| H[Verify & Complete]
        G --> I{QA Approved?}
        I -->|Yes| H
        I -->|No| E
        H --> J[Fix Complete - Commit]

        style A fill:#f5f5f5,color:#000
        style B fill:#e3f2fd,color:#000
        style D fill:#fff3e0,color:#000
        style E fill:#e3f2fd,color:#000
        style G fill:#ffd54f,color:#000
        style H fill:#34a853,color:#fff
        style J fill:#34a853,color:#fff
    ```

  decision_guidance:
    when_to_use:
      - Bug fixes in existing code
      - Small features (< 5 files typically)
      - Hotfixes and urgent patches
      - Minor enhancements
      - Single service/module changes
      - No architectural impact
      - No new dependencies required

    when_not_to_use:
      - Major new features
      - Architectural changes
      - Multiple services affected
      - Requires new dependencies
      - Compliance or security-critical changes
      - Team coordination needed

  time_estimates:
    simple_fix: "< 30 minutes"
    with_spec: "< 1 hour"
    with_qa: "< 2 hours"

  handoff_prompts:
    start: "What needs to be fixed or added? Let's analyze the scope quickly."
    to_dev: "Scope understood. Proceed with implementation."
    to_qa: "Implementation complete. Quick review?"
    complete: "Fix complete and verified. Ready to commit!"

