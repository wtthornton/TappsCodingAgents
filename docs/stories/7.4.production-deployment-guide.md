# Story 7.4: Production Deployment Guide

<!-- Source: implementation/cursor/EPIC_07_Documentation_Polish.md -->
<!-- Context: Production deployment + configuration + troubleshooting + best practices docs -->

## Status

Draft

## Story

**As a** platform engineer,
**I want** clear deployment and operations documentation for both headless CLI and Cursor-first modes,
**so that** teams can adopt the system safely and predictably.

## Acceptance Criteria

1. `docs/DEPLOYMENT.md` is updated (or extended) to cover:
   - supported Python versions and install modes
   - Cursor-first “tools-only” behavior vs headless MAL behavior
   - configuration files and environment variables
   - example Docker usage (if supported) and CI usage patterns
2. Troubleshooting guidance is updated to include the most common production failure modes (missing dependencies, tool availability, runtime mode confusion, credential issues) with actionable remediation steps.
3. Documentation includes a **production readiness checklist** (minimum: logging/metrics enabled, redaction verified, artifact retention configured, quality gates configured where applicable).
4. Documentation includes a clear “support boundaries” section (what is optional vs required, what is best-effort) so operators can set expectations.
5. Links between docs are consistent (deployment ↔ troubleshooting ↔ configuration ↔ API) and do not contain dead references.

## Tasks / Subtasks

- [ ] Task 1: Update deployment documentation (AC: 1, 4)
  - [ ] Align with current architecture and runtime mode policy
  - [ ] Document configuration discovery (`.tapps-agents/config.yaml`) and recommended init flows

- [ ] Task 2: Update troubleshooting documentation (AC: 2)
  - [ ] Add/refresh sections for common operational issues (tools missing, runtime mode issues, credential errors)

- [ ] Task 3: Add production readiness checklist + best practices (AC: 3, 4)
  - [ ] Document baseline SLIs/metrics expectations
  - [ ] Document artifact retention + cleanup expectations

- [ ] Task 4: Cross-link and validate references (AC: 5)
  - [ ] Ensure `docs/API.md`, `docs/ARCHITECTURE.md`, `docs/CONFIGURATION.md`, `docs/TROUBLESHOOTING.md`, `docs/DEPLOYMENT.md` are mutually consistent

## Dev Notes

### Existing System Context

- Docs already exist and are reasonably complete, but this story is about making them production-ready and consistent:
  - `docs/DEPLOYMENT.md` (Cursor-first note, headless mode toggle, Docker example, CI usage)
  - `docs/TROUBLESHOOTING.md` (install issues, tool availability, runtime mode)
  - `docs/API.md` (Python API + CLI usage)
  - `docs/ARCHITECTURE.md` (high-level components)

### Integration Approach

- Treat `docs/DEPLOYMENT.md` as the top-level operator entry point.
- Keep Cursor-first and headless mode behavior explicit and consistent with runtime policy described in `tapps_agents/core/runtime_mode.py` and `docs/API.md`.

### Risk Assessment

- **Risk**: Docs drift from implementation.
- **Mitigation**: Add doc update steps to workflow presets (documenter steps) and validate links in CI.

### Rollback Plan

- Docs changes are non-breaking; rollback is reverting doc edits.

### Testing

- Lightweight CI check(s): link validation / markdown linting (if tooling exists) and basic “does the CLI command exist” verification.

## Change Log

| Date       | Version | Description                                 | Author      |
| ---------- | ------- | ------------------------------------------- | ----------- |
| 2025-12-15 | 0.1     | Initial draft for Epic 7.4                  | bmad-master |

## Dev Agent Record

### Agent Model Used

_TBD_

### Debug Log References

_TBD_

### Completion Notes List

- _TBD_

### File List

- _TBD_

## QA Results

_TBD_
