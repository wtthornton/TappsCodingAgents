# Story 32.1: Agent Role File Format & Structure

<!-- Source: implementation/EPIC_04_Agent_Role_Markdown_Files.md -->

## Status

**Ready for Review**

## Story

**As a** framework user,
**I want** a standardized markdown format for agent role definitions,
**so that** agent behaviors are transparent, customizable, and well-documented.

## Acceptance Criteria

1. Markdown role file format is defined with sections: Identity, Principles, Communication Style, Expertise Areas, Interaction Patterns
2. YAML frontmatter structure is defined for role metadata (role_id, version, description)
3. Role file template is created with examples for all sections
4. Format structure is documented with explanations
5. Example role file demonstrates complete format

## Tasks / Subtasks

- [x] Task 1: Define markdown format (AC: 1)
  - [x] Define Identity section (role description, responsibilities)
  - [x] Define Principles section (core values, guidelines)
  - [x] Define Communication Style section (tone, verbosity, formality)
  - [x] Define Expertise Areas section (domains, specializations)
  - [x] Define Interaction Patterns section (how agent interacts)

- [x] Task 2: Define YAML frontmatter (AC: 2)
  - [x] Define role_id field
  - [x] Define version field
  - [x] Define description field
  - [x] Define optional metadata fields

- [x] Task 3: Create template (AC: 3, 5)
  - [x] Create role file template
  - [x] Include all sections with examples
  - [x] Add comments explaining sections
  - [x] Create example role file

- [x] Task 4: Document format (AC: 4)
  - [x] Document markdown structure
  - [x] Document YAML frontmatter
  - [x] Explain each section
  - [x] Provide format guide

## Dev Notes

### Existing System Context

- BMAD pattern exists in `.bmad-core/agents/*.md`
- Markdown files used for documentation
- YAML frontmatter pattern exists
- Agent definitions in SKILL.md files

### Integration Approach

- Follow BMAD agent file pattern
- Use markdown with YAML frontmatter
- Structure similar to BMAD agents
- Document format clearly

### Risk Assessment

- **Primary risk**: Format may be too rigid
  - **Mitigation**: Extensible format, optional sections, customization layer

### Rollback Plan

- Format is documentation only
- No breaking changes
- Can be adjusted

### Testing

- Validate markdown structure
- Validate YAML frontmatter
- Test template parsing
- Review examples

## Change Log

| Date       | Version | Description                     | Author      |
| ---------- | ------- | ------------------------------- | ----------- |
| 2025-01-XX | 0.1     | Initial draft for Epic 32.1     | bmad-master |

## Dev Agent Record

### Completion Notes

- Created role file format with 5 main sections: Identity, Principles, Communication Style, Expertise Areas, Interaction Patterns
- Defined YAML frontmatter with required fields (role_id, version, description) and optional fields (author, dates, compatibility, tags)
- Created comprehensive template file: `templates/agent_roles/ROLE_FILE_TEMPLATE.md`
- Created example role file: `templates/agent_roles/implementer-role.md`
- Documented format in: `docs/AGENT_ROLE_FILE_FORMAT.md`

### File List

- `templates/agent_roles/ROLE_FILE_TEMPLATE.md` (new)
- `templates/agent_roles/implementer-role.md` (new)
- `docs/AGENT_ROLE_FILE_FORMAT.md` (new)

### Change Log

| Date       | Version | Description                     | Author      |
| ---------- | ------- | ------------------------------- | ----------- |
| 2025-01-XX | 0.1     | Initial draft for Epic 32.1     | bmad-master |
| 2025-01-XX | 1.0     | Story completed - format defined | James       |

## QA Results

_TBD_

