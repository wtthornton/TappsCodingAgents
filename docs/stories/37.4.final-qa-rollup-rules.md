# Story 37.4: Final QA Rollup Rules

<!-- Source: docs/prd/epic-5-progressive-task-level-review.md -->
<!-- Context: Progressive Task-Level Review - Define how final QA consumes progressive review history -->

## Status

**✅ Implemented**

**Last Updated:** 2025-12-18

## Story

**As a** TappsCodingAgents autonomous QA agent,  
**I want** automated rollup rules from progressive task reviews into final QA outcomes,  
**so that** deferred concerns are handled explicitly and the final decision is evidence-backed without human intervention.

## Acceptance Criteria

1. Automated final QA consumes the progressive review history and summarizes it in a consistent way (including any BLOCK/CONCERNS decisions and their resolution status).
2. Deferred CONCERNS are automatically handled at final QA (resolved, waived, or fail) with rationale recorded based on configured policies.
3. The automated rollup includes a clear "what changed" and "what evidence exists" summary to support PASS/CONCERNS/FAIL/WAIVED outcomes.
4. The rollup rules are deterministic enough that automated QA consistently reaches the same outcome given the same evidence.

## Tasks / Subtasks

- [ ] Task 1: Define rollup summary structure and required fields (AC: 1, 3)
  - [ ] Define what must be listed from progressive reviews
  - [ ] Define how evidence is referenced
- [ ] Task 2: Define automated deferred CONCERNS handling rules (AC: 2)
  - [ ] Define what constitutes acceptable automated waiver (based on risk thresholds and policies)
  - [ ] Define when "fail" is mandatory (automated decision based on severity and impact)
- [ ] Task 3: Define determinism rules and examples (AC: 4)
  - [ ] Provide example rollups and resulting decisions

## Dev Notes

### Existing System Context

- BMAD’s progressive review model is designed to reduce end-of-story surprises by shifting review earlier; this story defines how that evidence is consumed at the final QA checkpoint.
- QA decision structures and gate conventions integrate with existing reviewer agent and quality gates.

## Testing

- Documentation-only change; no automated tests required.
- Validation approach: simulate two different stories (one with deferred concerns, one without) and confirm the rollup rules produce consistent outcomes.

## Change Log

| Date       | Version | Description                 | Author      |
| ---------- | ------- | --------------------------- | ----------- |
| 2025-12-18 | 0.1     | Initial draft for Story 37.4 | bmad-master |

## Dev Agent Record

### Agent Model Used

_TBD_

### Debug Log References

_TBD_

### Completion Notes List

_TBD_

### File List

_TBD_

## QA Results

_To be populated by QA agent_


