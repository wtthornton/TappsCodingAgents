# Story 36.2: Role-Based Editing Permissions for Story Sections

<!-- Source: docs/prd/epic-4-story-driven-development-loop.md -->
<!-- Context: Story-Driven Development Loop - Define role boundaries for story editing to preserve audit integrity -->

## Status

**Draft**

**Last Updated:** 2025-12-18

## Story

**As a** TappsCodingAgents autonomous agent,  
**I want** explicit role-based editing permissions for story sections with automated enforcement,  
**so that** the story record remains trustworthy, consistent, and auditable without human oversight.

## Acceptance Criteria

1. Story sections are categorized by “who owns the truth” (Scrum Master/PO, Dev Agent, QA Agent) aligned to `.bmad-core/templates/story-tmpl.yaml`.
2. “Do not edit” guidance is defined for each role (e.g., Dev should not rewrite Acceptance Criteria after work starts; QA should not rewrite Dev Agent Record).
3. An automated "correction protocol" exists for when something truly must be changed (e.g., amendment recorded in Change Log; automated validation based on risk assessment; explicit rationale).
4. Story review includes an explicit check that role boundaries were respected (detectable if violated).

## Tasks / Subtasks

- [ ] Task 1: Define section ownership and permitted editors (AC: 1)
  - [ ] Map each section to owner(s): Status, Story, Acceptance Criteria, Tasks/Subtasks, Dev Notes, Testing, Change Log, Dev Agent Record, QA Results
  - [ ] Align with `.bmad-core/templates/story-tmpl.yaml` agent_config and editors
- [ ] Task 2: Define “do not edit” rules and anti-patterns (AC: 2)
  - [ ] List common audit-breaking edits and why they matter
  - [ ] Define what is allowed (e.g., clarifying typo fixes) vs disallowed (changing meaning)
- [ ] Task 3: Define automated correction/amendment protocol (AC: 3)
  - [ ] Define how amendments are recorded
  - [ ] Define automated validation requirements and when re-validation is triggered (based on risk assessment)
- [ ] Task 4: Add automated role-boundary validation (AC: 4)
  - [ ] Define automated checks that detect role boundary violations
  - [ ] Define what constitutes a violation and how to remediate automatically
  - [ ] Integrate validation into story review automation

## Dev Notes

### Existing System Context

- The BMAD story template defines editable sections and default editors in `.bmad-core/templates/story-tmpl.yaml`.
- Current repo stories in `docs/stories/` already imply ownership (e.g., Dev Agent Record and QA Results are marked “_TBD_” / “_To be populated_”), but the rules are not explicitly standardized for new work.

## Testing

- Documentation-only change; no automated tests required.
- Validation approach: apply the rules to a sample story and verify that automated validation can detect violations reliably.

## Change Log

| Date       | Version | Description                 | Author      |
| ---------- | ------- | --------------------------- | ----------- |
| 2025-12-18 | 0.1     | Initial draft for Story 36.2 | bmad-master |

## Dev Agent Record

### Agent Model Used

_TBD_

### Debug Log References

_TBD_

### Completion Notes List

_TBD_

### File List

_TBD_

## QA Results

_To be populated by QA agent_


