# Story 25.4: Documentation verification gate

<!-- Source: implementation/cursor/EPIC_25_Documentation_And_Contributor_Consistency.md -->
<!-- Context: Prevent doc drift by making broken file references and internal links detectable -->

## Status

**Deferred** - Documentation maintenance item, lower priority

## Story

**As a** maintainer,  
**I want** an explicit, repeatable documentation verification process (and an optional CI gate) that detects broken file/path references and internal Markdown links,  
**so that** documentation remains a reliable contract and drift is caught before release.

## Acceptance Criteria

1. Documentation includes a clear, documented process to validate that referenced files/paths exist (and optionally a CI check to enforce it).
2. Broken internal links are detectable (at least within Markdown files), with clear output that points to the failing source/target.
3. The process is runnable locally with a single command and is consistent with the contributor “one true workflow”.

## Tasks / Subtasks

- [ ] Task 1: Define scope and rules for doc verification (AC: 1–3)
  - [ ] Decide which doc roots are included (e.g., `README.md`, `docs/**/*.md`, excluding generated `docs/html/*` if applicable)
  - [ ] Define what counts as a “reference” (relative paths, code fences, inline backticks, Markdown links)
  - [ ] Define exclusions/allowlists (external URLs, intentionally-missing placeholders, generated files)

- [ ] Task 2: Add a local, repeatable verification command (AC: 1–3)
  - [ ] Implement a lightweight verifier script (e.g., Python) that:
    - [ ] Flags broken relative file/path references
    - [ ] Flags broken internal Markdown links/anchors within Markdown docs
  - [ ] Add a simple entrypoint command (e.g., `python -m ...` or `make docs-verify` if Makefile exists)

- [ ] Task 3: Document the verification process in contributor docs (AC: 1, 3)
  - [ ] Add a “Docs verification” section to `CONTRIBUTING.md` (and/or `docs/DEVELOPER_GUIDE.md`)
  - [ ] Ensure the documented command matches the implemented verifier and CI usage

- [ ] Task 4: (Optional) Add a CI gate to prevent regressions (AC: 1–2)
  - [ ] Integrate doc verification into the existing CI workflow(s) alongside lint/type/test checks
  - [ ] Ensure failures are actionable (file + line where possible) and do not exceed reasonable runtime

## Dev Notes

### Existing System Context

- Documentation is spread across `README.md`, `docs/*`, and contributor guidance (`CONTRIBUTING.md`, `SECURITY.md`).
- Epic 25’s goal is documentation accuracy and cross-platform clarity without changing runtime behavior.

### Integration Approach

- Treat docs as contracts: any referenced command/path/link should either exist or be explicitly marked as external/optional.
- Prefer fast, deterministic checks that can run in CI and locally on Windows/macOS/Linux.

### Risk Assessment

- **Risk**: Overly strict checks could create noisy failures for legitimate external references or generated docs.
- **Mitigation**: Provide clear allowlists/exclusions and document how to add intentional exceptions.

### Rollback Plan

- If the gate becomes too noisy, keep the local process documented and disable the CI enforcement step until tuned.

### Testing

- Add representative fixture cases (good/bad links) and ensure the verifier catches failures deterministically on Windows paths.

## Change Log

| Date       | Version | Description                     | Author      |
| ---------- | ------- | ------------------------------- | ----------- |
| 2025-12-16 | 0.1     | Initial draft for Epic 25.4     | bmad-master |

## Dev Agent Record

### Agent Model Used

_TBD_

### Debug Log References

_TBD_

### Completion Notes List

- _TBD_

### File List

- _TBD_

## QA Results

_TBD_


