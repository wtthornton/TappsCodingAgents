# Workflow Presets - Quick Commands

## Overview

TappsCodingAgents provides preset workflows that can be executed with simple one-word commands. These workflows automatically orchestrate multiple agents to complete common SDLC tasks.

**NEW (v3.5.37+):** All workflows now include **adaptive checkpoints** that optimize execution:
- **Checkpoint 1** (After Enhance): Early validation using prompt analysis
- **Checkpoint 2** (After Planning): Task complexity analysis with workflow switching
- **Checkpoint 3** (After Test): Quality-based early termination

Workflows automatically adapt to task complexity, potentially using fewer steps than listed. See [Checkpoint System Guide](../docs/CHECKPOINT_SYSTEM_GUIDE.md) for details.

## Available Workflow Presets

### 1. Full SDLC Pipeline (`full` / `enterprise`)

**Command:** `python -m tapps_agents.cli workflow full`

**Best for:** Complete software development lifecycle with all quality gates

**Typical Steps:** 5-10 (adaptive based on checkpoints)

**Agent Sequence (with checkpoints):**
1. Enhancer - Enhance Prompt
   ✅ Checkpoint 1: Early mismatch detection (may switch workflow)
2. Analyst - Gather Requirements
3. Planner - Create Stories
   ✅ Checkpoint 2: Task complexity analysis (may switch to *build or *fix)
4. Architect - Design System
5. Designer - Api Design
6. Implementer - Write Code
7. Reviewer - Review Code
8. Tester - Write Tests
   ✅ Checkpoint 3: Quality gate (may skip steps 9-10)
9. Ops - Security Scan (optional if quality ≥ 80)
10. Documenter - Generate Docs (optional if quality ≥ 75)

**Quality Gates:**
- Overall score: ≥70
- Security: ≥7.0
- Maintainability: ≥7.0

**Checkpoint Optimization:**
- May switch to `*build` if task complexity is medium (saves 20K-40K tokens)
- May switch to `*fix` if task is simple bug fix (saves 30K-50K tokens)
- May skip security + docs if quality score ≥ 80 (saves 12K-13K tokens)

### 2. Fix (`fix` / `maintenance` / `hotfix` / `urgent` / `refactor` / `quick-fix`)

**Command:** `python -m tapps_agents.cli workflow fix`

**Best for:** Debug, fix, and verify issues in existing code

**Typical Steps:** 3-6 (adaptive based on checkpoints)

**Agent Sequence (with checkpoints):**
1. Enhancer - Enhance Prompt
   ✅ Checkpoint 1: Early validation (confirms this is a fix, not a feature)
2. Debugger - Analyze Error
3. Implementer - Write Code
4. Reviewer - Review Code
5. Tester - Write Tests
   ✅ Checkpoint 3: Quality gate (may skip step 6 if quality ≥ 75)
6. Orchestrator - Finalize (optional based on quality)

**Quality Gates:**
- Overall score: ≥65
- Security: ≥6.5

**Checkpoint Optimization:**
- Checkpoint 1 may recommend staying with *fix for clear bug fixes
- Checkpoint 3 may skip finalization steps if quality is excellent

### 3. Quality Improvement (`quality` / `improve`)

**Command:** `python -m tapps_agents.cli workflow quality`

**Best for:** Comprehensive code review and improvement cycle

**Agent Sequence:**
1. Reviewer - Review Code
2. Improver - Refactor
3. Reviewer - Review Code
4. Tester - Write Tests
5. Ops - Security Scan
6. Orchestrator - Finalize

**Quality Gates:**
- Overall score: ≥75
- Security: ≥7.5
- Maintainability: ≥8.0

### 4. Brownfield Project Analysis (`brownfield`)

**Command:** `python -m tapps_agents.cli workflow brownfield`

**Best for:** Comprehensive analysis workflow for existing codebases that provides:
- Project discovery and profiling
- Code quality assessment
- Architecture pattern analysis
- Codebase structure evaluation
- Technical debt categorization and prioritization
- Dependency and integration mapping
- Test and documentation coverage analysis
- Modernization roadmap generation

This workflow orchestrates multiple agents to provide a complete picture
of a brownfield project's current state and recommended improvements.


**Agent Sequence:**

## Usage in Cursor AI

When working in Cursor AI, you can:

1. **Run workflows directly:**
   - Type: "Run rapid development workflow"
   - Or: "Execute full SDLC pipeline"
   - Or: "Start quality improvement"

2. **Use voice commands:**
   - "run rapid dev"
   - "execute enterprise workflow"
   - "start quick fix"

3. **Reference in conversations:**
   - "Use the rapid workflow for this feature"
   - "This needs the full enterprise workflow"
   - "Run the quality improvement cycle"

## When to Use Each Workflow

- **Complete software development lifecycle with all quality gates** → `workflow full`
- **Debug, fix, and verify issues in existing code** → `workflow fix`
- **Comprehensive code review and improvement cycle** → `workflow quality`
- **Comprehensive analysis workflow for existing codebases that provides:
- Project discovery and profiling
- Code quality assessment
- Architecture pattern analysis
- Codebase structure evaluation
- Technical debt categorization and prioritization
- Dependency and integration mapping
- Test and documentation coverage analysis
- Modernization roadmap generation

This workflow orchestrates multiple agents to provide a complete picture
of a brownfield project's current state and recommended improvements** → `workflow brownfield`

## Integration

These workflows integrate with:
- ✅ Expert consultation (domain experts)
- ✅ Quality gates (scoring thresholds)
- ✅ Context tiers (token optimization)
- ✅ Multi-agent orchestration
- ✅ Git worktree isolation

## List All Presets

```bash
python -m tapps_agents.cli workflow list
```

## Customization

Workflow presets are defined in `workflows/presets/`:
- `full-sdlc.yaml`
- `fix.yaml`
- `quality.yaml`
- `brownfield-analysis.yaml`

You can modify these files or create your own presets.
