{
  "library": "unified_cache_config",
  "topic": "examples",
  "documentation": {
    "content": "## Design Improvements: Const Correctness\n\n```c\n// Resolved design issue:\n// const correctness\n```\n\n## UCX If-Else Style and Return Value Checking\n\n```C\n    // If-else style with blank lines:\n    if (value > 0) {\n        value = 23;\n    } else {\n        value = 12;\n    }\n\n    value *= 2;\n\n    // Checking return values close to functions:\n    if (val != XXX) {\n        ret = f1();\n        if (ret < 0) {\n            // handle error\n        }\n        /* ... */\n    } else {\n        ret = f2();\n        if (ret < 0) {\n            // handle error\n        }\n        /* ... */\n    }\n\n    // General formatting rules:\n    if (val != XXX) {\n        /* snip */\n    } else if (val == YYY) {\n        /* code here */\n    } else {\n        /* code here */\n    }\n\n    // Bad formatting examples:\n    // if(val != XXX) {   /* Require space after if */\n    // if (val != XXX){   /* Require space after )  */\n    // if ( val != XXX) { /* Remove space after (   */\n\n```\n\n## UCS String and Error Message Utilities\n\n```C\nucs_strdup\nucs_status_string\nucs_snprintf_zero\nucs_log_dispatch\nucs_fatal_error_format\n```\n\n## OpenUCX Error Reporting Guidelines\n\n```text\n- print %m (system error code) for every system call error message\n- print error message in the first place the error is detected. \n- print the exact cause of the error and not the assumed reason, because the\n  assumption may not be true on all systems / in the future.\n```\n\n## Problems: Fail on Test Warnings\n\n```c\n// Resolved problem:\n// Fail if there were warnings during test.\n```\n\n## Problems: CodeStyle Update\n\n```c\n// CodeStyle update:\n// - include file order\n// - local variable names structure\n// - number for each rule\n// - add checkpatch.pl\n// - space lines\n```\n\n## UCT Internal Error Setting\n\n```plaintext\nUCT internal error-setting: add something like _ep_set_error(error_code)_ which sets most of the function pointers to point to a stub returning this error_code from now on. It shouldn't set unrelated functions, or _ep_destroy()_ call.\n```\n\n## Problems: Fail on Test Warnings\n\n```c\n// Resolved problem:\n// Fail if there were warnings during test.\n```\n\n## UCX Goto Style and Label Naming\n\n```C\n    return;\n\nerr_free:\n    ucs_free(thread);\nerr:\n    --ucs_async_thread_global_context.use_count;\nout_unlock:\n    ucs_assert_always(ucs_async_thread_global_context.thread != NULL);\n    *thread_p = ucs_async_thread_global_context.thread;\n\n```\n\n## Design Improvements: Extract IB Common Code\n\n```c\n// Design improvement:\n// Extract more IB common code\n```",
    "library": "unified_cache_config",
    "topic": "common-mistakes",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T18:32:27.845876"
}