{
  "library": "pydantic",
  "topic": "usage",
  "documentation": {
    "content": "## Pydantic Field Usage in Dataclasses\n\n```python\nfrom pydantic import BaseModel, Field\nfrom pydantic.dataclasses import dataclass\n\n\n@dataclass\nclass Foo:\n    bar: str\n    baz: str = Field(init_var=True)\n    qux: str = Field(kw_only=True)\n\n\nclass Model(BaseModel):\n    foo: Foo\n\n\nmodel = Model(foo=Foo('bar', baz='baz', qux='qux'))\nprint(model.model_dump())  # (1)!\n#> {'foo': {'bar': 'bar', 'qux': 'qux'}}\n```\n\n## Parametrize Generic Model with Type Variable\n\n```python\nprint(ChildClass[str, int](x='1', y='y', z='3'))\n#> x=1 y='y' z=3\n```\n\n## Correct Pydantic @field_validator Usage with Arguments\n\n```python\nfrom pydantic import BaseModel, field_validator\n\n\nclass Model(BaseModel):\n    a: str\n\n    @field_validator('a')\n    @classmethod\n    def checker(cls, v):\n        return v\n```\n\n## Define Pydantic Model Field with Ellipsis and Field()\n\n```python\nclass Model(BaseModel):\n    name: str = Field(..., frozen=True)\n```\n\n## Pydantic V1 Deprecated @validator Usage with always=True\n\n```python\nfrom pydantic import BaseModel, validator\n\n\nclass Model(BaseModel):\n    x: str = 1\n\n    @validator('x', always=True)\n    @classmethod\n    def validate_x(cls, v):\n        return v\n\n\nModel()\n```\n\n## Python Demonstrate make_fields_optional Function Usage\n\n```python\nfrom pydantic import BaseModel, Field\n\n\nclass Model(BaseModel):\n    a: Annotated[int, Field(gt=1)]\n\n\nModelOptional = make_fields_optional(Model)\n\nm = ModelOptional()\nprint(m.a)\n#> None\n```\n\n## Define Pydantic Model Fields as Deprecated with `@deprecated` Decorator\n\n```python\nfrom typing import Annotated\n\nfrom typing_extensions import deprecated\n\nfrom pydantic import BaseModel, Field\n\n\nclass Model(BaseModel):\n    deprecated_field: Annotated[int, deprecated('This is deprecated')]\n\n    # Or explicitly using `Field`:\n    alt_form: Annotated[int, Field(deprecated=deprecated('This is deprecated'))]\n```\n\n## Define Pydantic Model Fields as Deprecated with `@deprecated` Decorator\n\n```python\nfrom typing import Annotated\nfrom warnings import deprecated\n\nfrom pydantic import BaseModel, Field\n\n\nclass Model(BaseModel):\n    deprecated_field: Annotated[int, deprecated('This is deprecated')]\n\n    # Or explicitly using `Field`:\n    alt_form: Annotated[int, Field(deprecated=deprecated('This is deprecated'))]\n```\n\n## Define Pydantic UserIn and UserOut Models with Data Transformation in Python\n\n```python\nfrom __future__ import annotations\n\nfrom pydantic import BaseModel\n\n\nclass UserIn(BaseModel):\n    favorite_number: int | str\n\n\nclass UserOut(BaseModel):\n    favorite_number: int\n\n\ndef my_api(user: UserIn) -> UserOut:\n    favorite_number = user.favorite_number\n    if isinstance(favorite_number, str):\n        favorite_number = int(user.favorite_number.strip())\n\n    return UserOut(favorite_number=favorite_number)\n\n\nassert my_api(UserIn(favorite_number=' 1 ')).favorite_number == 1\n```\n\n## Validate Data with Pydantic-core SchemaValidator (Python)\n\n```python\nfrom pydantic_core import SchemaValidator, ValidationError\n\nv = SchemaValidator(\n    {\n        'type': 'typed-dict',\n        'fields': {\n            'name': {\n                'type': 'typed-dict-field',\n                'schema': {\n                    'type': 'str',\n                },\n            },\n            'age': {\n                'type': 'typed-dict-field',\n                'schema': {\n                    'type': 'int',\n                    'ge': 18,\n                },\n            },\n            'is_developer': {\n                'type': 'typed-dict-field',\n                'schema': {\n                    'type': 'default',\n                    'schema': {'type': 'bool'},\n                    'default': True,\n                },\n            },\n        },\n    }\n)\n\nr1 = v.validate_python({'name': 'Samuel', 'age': 35})\nassert r1 == {'name': 'Samuel', 'age': 35, 'is_developer': True}\n\n# pydantic-core can also validate JSON directly\nr2 = v.validate_json('{\"name\": \"Samuel\", \"age\": 35}')\nassert r1 == r2\n\ntry:\n    v.validate_python({'name': 'Samuel', 'age': 11})\nexcept ValidationError as e:\n    print(e)\n    \"\"\"\n    1 validation error for model\n    age\n      Input should be greater than or equal to 18\n      [type=greater_than_equal, context={ge: 18}, input_value=11, input_type=int]\n    \"\"\"\n```\n\n## Use Default Values with PydanticUseDefault\n\n```python\nfrom typing import Annotated, Any\n\nfrom pydantic_core import PydanticUseDefault\n\nfrom pydantic import BaseModel, BeforeValidator\n\n\ndef default_if_none(value: Any) -> Any:\n    if value is None:\n        raise PydanticUseDefault()\n    return value\n\n\nclass Model(BaseModel):\n    name: Annotated[str, BeforeValidator(default_if_none)] = 'default_name'\n\n\nprint(Model(name=None))\n#> name='default_name'\n```\n\nContext7 cache for pydantic: cached at 2026-01-31T00:11:10.801191+00:00Z; consider refreshing if docs changed.",
    "library": "pydantic",
    "topic": "usage",
    "source": "cache"
  },
  "source": "cache",
  "saved_at": "2026-01-30T16:11:10.911721"
}