{
  "library": "beads_sync",
  "topic": "best-practices",
  "documentation": {
    "content": "## SQL Table Namespacing and Foreign Keys Best Practices\n\n```sql\n-- Good\nCREATE TABLE vc_executions (...);\nCREATE TABLE myapp_checkpoints (...);\n\n-- Bad\nCREATE TABLE executions (...);  // Could conflict with other apps\nCREATE TABLE state (...);       // Too generic\n\n```\n\n## SQL Table Namespacing and Foreign Keys Best Practices\n\n```sql\nCREATE TABLE myapp_executions (\n    issue_id TEXT NOT NULL,\n    -- ...\n    FOREIGN KEY (issue_id) REFERENCES issues(id) ON DELETE CASCADE\n);\n\n```\n\n## Beads Best Practices (Bash)\n\n```bash\n1. **Always sync at session end** - `bd sync`\n2. **Install git hooks** - `bd hooks install`\n3. **Use merge driver** - Avoids manual conflict resolution\n4. **Check sync status** - `bd info` shows daemon/sync state\n```\n\n## Consistent Labeling Best Practice Examples\n\n```bash\n# Good: Clear role separation\nbd label add bd-123 architecture\nbd label add bd-456 implementation\nbd label add bd-789 review\n\n# Bad: Mixing concerns\n# (same issue shouldn't be both architecture and implementation)\n```\n\n## Full Workflow Example: Implement OAuth\n\n```bash\n# Session 1 - Planning:\n# Create bd issue\nbd create \"Implement OAuth authentication\" -t feature -p 0 --design \"\nJWT tokens with refresh rotation.\nSee BOUNDARIES.md for bd vs TodoWrite decision.\n\"\n\n# Mark in_progress\nbd update oauth-1 --status in_progress\n\n# Create TodoWrite for today's work\nTodoWrite:\n- [ ] Research OAuth 2.0 refresh token flow\n- [ ] Design token schema\n- [ ] Set up test environment\n\n# End of Session 1:\n# Update bd with outcomes\nbd update oauth-1 --notes \"COMPLETED: Researched OAuth2 refresh flow. Decided on 7-day refresh tokens.\nKEY DECISION: RS256 over HS256 (enables key rotation per security review).\nIN PROGRESS: Need to set up test OAuth provider.\nNEXT: Configure test provider, then implement token endpoint.\"\n\n# TodoWrite disappears when session ends\n\n# Session 2 - Implementation (after compaction):\n# Read bd to reconstruct context\nbd show oauth-1\n# See: COMPLETED research, NEXT is configure test provider\n\n# Create fresh TodoWrite from NEXT\nTodoWrite:\n- [ ] Configure test OAuth provider\n- [ ] Implement token endpoint\n- [ ] Add basic tests\n\n# Work proceeds...\n\n# Update bd at milestone\nbd update oauth-1 --notes \"COMPLETED: Test provider configured, token endpoint implemented.\nTESTS: 5 passing (token generation, validation, expiry).\nIN PROGRESS: Adding refresh token rotation.\nNEXT: Implement rotation, add rate limiting, security review.\"\n\n```\n\n## Example: Correct use of 'parent-child' for planned tasks\n\n```text\nepic-1: \"OAuth integration\"\n  parent of\n    task-2: \"Set up OAuth credentials\"\n```\n\n## SQL Data Normalization: Avoiding Duplication\n\n```sql\n-- Bad: Duplicating data\nCREATE TABLE myapp_executions (\n    issue_id TEXT NOT NULL,\n    issue_title TEXT,  // Don't do this!\n    issue_priority INTEGER,  // Don't do this!\n    -- ...\n);\n\n-- Good: Join when querying\nSELECT i.title, i.priority, e.status\nFROM myapp_executions e\nJOIN issues i ON e.issue_id = i.id;\n\n```\n\n## Best Practices for Beads CLI Usage\n\n```bash\n# Always use --json\nbd list --json          # Parse programmatically\nbd create \"Task\" --json # Get issue ID from output\nbd show bd-42 --json    # Structured data\n\n# Always Include Descriptions\n# Good\nbd create \"Fix auth bug\" \\\n  --description=\"Login fails when password contains quotes\" \\\n  -t bug -p 1 --json\n\n# Bad - no context for future work\nbd create \"Fix auth bug\" -t bug -p 1 --json\n\n# Link Related Work\n# When you discover issues during work\nbd create \"Found related bug\" \\\n  --deps discovered-from:bd-current --json\n\n# Sync Before Session End\n# ALWAYS run before ending\nbd sync\n```\n\n## Consistent Error Handling Example (Good)\n\n```go\n// GOOD: Consistent pattern for similar operations\nif err := createConfigYaml(dir, false); err != nil {\n    fmt.Fprintf(os.Stderr, \"Warning: failed to create config.yaml: %v\\n\", err)\n}\nif err := createReadme(dir); err != nil {\n    fmt.Fprintf(os.Stderr, \"Warning: failed to create README.md: %v\\n\", err)\n}\n```\n\n## Clear Handoff Documentation Best Practice\n\n```bash\n# Document why closing\nbd close bd-arch --reason \"Design complete, created bd-impl1 and bd-impl2 for implementation\"\n\n# Not: \"done\" (too vague)\n```\n\n## SQL Indexing Strategies for Queries\n\n```sql\n-- If you query by status frequently\nCREATE INDEX idx_executions_status ON myapp_executions(status);\n\n-- If you join on issue_id\nCREATE INDEX idx_executions_issue ON myapp_executions(issue_id);\n\n-- Composite index for complex queries\nCREATE INDEX idx_executions_status_priority\nON myapp_executions(status, issue_id);\n\n```",
    "library": "beads",
    "topic": "best-practices",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-02-06T00:38:42.201900"
}