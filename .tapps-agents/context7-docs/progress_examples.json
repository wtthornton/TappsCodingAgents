{
  "library": "progress",
  "topic": "examples",
  "documentation": {
    "content": "## Run Process and Asynchronously Collect Output\n\n```Swift\nimport Subprocess\n\nlet result = try await run(.name(\"ls\"))\n\nprint(result.processIdentifier) // prints 1234\nprint(result.terminationStatus) // prints exited(0)\n\nprint(result.standardOutput) // prints LICENSE Package.swift ...\n```\n\n## Customize Process Execution with Arguments, Environment, and Working Directory\n\n```Swift\nimport Subprocess\n\nlet result = try await run(\n    .path(\"/bin/ls\"),\n    arguments: [\"-a\"],\n    // Inherit the environment values from parent process and\n    // add `NewKey=NewValue` \n    environment: .inherit.updating([\"NewKey\": \"NewValue\"]),\n    workingDirectory: \"/Users/\"\n)\n```\n\n## Configure Swift Experimental Compile Options (CMake)\n\n```CMake\ntarget_compile_options(Subprocess PRIVATE\n  \"$<$<COMPILE_LANGUAGE:Swift>:SHELL:-enable-experimental-feature StrictConcurrency>\"\n  \"$<$<COMPILE_LANGUAGE:Swift>:SHELL:-enable-experimental-feature NonescapableTyeps>\"\n  \"$<$<COMPILE_LANGUAGE:Swift>:SHELL:-enable-experimental-feature LifetimeDependence>\"\n  \"$<$<COMPILE_LANGUAGE:Swift>:SHELL:-enable-experimental-feature Span>\")\n```\n\n## Configure Subprocess Input and Output in Swift\n\n```swift\nlet content = \"Hello Subprocess\"\n\n// Send \"Hello Subprocess\" to the standard input of `cat`\nlet result = try await run(.name(\"cat\"), input: .string(content, using: UTF8.self))\n\n// Collect both standard error and standard output as Data\nlet result = try await run(.name(\"cat\"), output: .data, error: .data)\n```\n\n## Define Swift Subprocess Source Files and Platform Conditionals\n\n```CMake\ntarget_sources(Subprocess PRIVATE\n  Execution.swift\n  Buffer.swift\n  Error.swift\n  Teardown.swift\n  Result.swift\n  IO/Output.swift\n  IO/Input.swift\n  Span+Subprocess.swift\n  AsyncBufferSequence.swift\n  API.swift\n  SubprocessFoundation/Span+SubprocessFoundation.swift\n  SubprocessFoundation/Output+Foundation.swift\n  SubprocessFoundation/Input+Foundation.swift\n  Configuration.swift)\n\nif(WIN32)\n  target_sources(Subprocess PRIVATE Platforms/Subprocess+Windows.swift)\nelseif(LINUX OR ANDROID)\n  target_sources(Subprocess PRIVATE\n    Platforms/Subprocess+Linux.swift\n    Platforms/Subprocess+Unix.swift)\nelseif(APPLE)\n  target_sources(Subprocess PRIVATE\n    Platforms/Subprocess+Darwin.swift\n    Platforms/Subprocess+Unix.swift)\nendif()\n```\n\n## Run Process with Custom Output Handling Closure\n\n```Swift\nimport Subprocess\n\n// Monitor Nginx log via `tail -f`\nasync let monitorResult = run(\n    .path(\"/usr/bin/tail\"),\n    arguments: [\"-f\", \"/path/to/nginx.log\"]\n) { execution, standardOutput in\n    for try await line in standardOutput.lines(encoding: UTF8.self) {\n        // Parse the log text\n        if line.contains(\"500\") {\n            // Oh no, 500 error\n        }\n    }\n}\n```\n\n## Subprocess Output Configuration Options (APIDOC)\n\n```APIDOC\nSubprocess.Output Options:\n  .discarded: Subprocess will not collect or redirect output from the child process.\n  .fileDescriptor(closeAfterSpawningProcess: Bool):\n    Writes output to a specified FileDescriptor.\n    closeAfterSpawningProcess: If true, the Subprocess will close the file descriptor after spawning.\n  .string(limit: Int?, encoding: Encoding?):\n    Collects output as a String with the given encoding and optional limit.\n  .bytes(limit: Int?):\n    Collects output as [UInt8] with an optional limit.\n```\n\n## Subprocess Input Configuration Options (APIDOC)\n\n```APIDOC\nSubprocess.Input Options:\n  .none: No input is sent to the subprocess.\n  .fileDescriptor(closeAfterSpawningProcess: Bool):\n    Reads input from a specified FileDescriptor.\n    closeAfterSpawningProcess: If true, the file descriptor is closed after spawning; otherwise, user is responsible for closing.\n  .string(StringProtocol, using: Encoding):\n    Reads input from a type conforming to StringProtocol using the specified encoding.\n  .array([UInt8]):\n    Reads input from an array of UInt8.\n  .data: Reads input from a given Data (available with SubprocessFoundation trait).\n  .sequence: Reads input from a sequence of Data (available with SubprocessFoundation trait).\n  .asyncSequence: Reads input from an async sequence of Data (available with SubprocessFoundation trait).\n```\n\n## Configure Swift Subprocess Target Sources and Includes\n\n```CMake\ntarget_sources(Subprocess PRIVATE process_shims.c)\n\ntarget_include_directories(Subprocess PRIVATE\n  \"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>\")\n```\n\n## Generate Swift Subprocess API Documentation\n\n```bash\nswift package --disable-sandbox preview-documentation --target Subprocess\n```",
    "library": "subprocess_utils",
    "topic": "examples",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T18:29:54.798829"
}