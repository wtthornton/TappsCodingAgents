{
  "library": "context7",
  "topic": "examples",
  "documentation": {
    "content": "## Process Repository using TypeScript\n\n```typescript\nimport { TaskProcessor } from './lib/task-processor.js';\nimport { LogService } from './lib/log-service.js';\n\nconst logger = new LogService();\nconst processor = new TaskProcessor(logger);\n\nasync function processRepository(projectId: string) {\n  try {\n    await logger.info(projectId, 'Starting project processing');\n\n    const result = await processor.processProject({\n      projectId,\n      url: 'https://github.com/username/repo',\n      type: 'repository',\n      options: {\n        generateEmbeddings: true,\n        excludePatterns: ['node_modules', 'dist'],\n        maxFileSize: 1048576 // 1MB\n      }\n    });\n\n    await logger.info(projectId, `Processing complete: ${result.filesProcessed} files`);\n\n    return {\n      success: true,\n      contextFile: result.contextPath,\n      embeddings: result.embeddingCount,\n      duration: result.processingTimeMs\n    };\n  } catch (error) {\n    await logger.error(projectId, `Processing failed: ${error.message}`);\n    throw error;\n  }\n}\n\n// Usage in worker\nconst result = await processRepository('proj_abc123def456');\nconsole.log(`Context file: ${result.contextFile}`);\n```\n\n## POST /api/approve - Approve Pending Project\n\n```APIDOC\n## POST /api/approve - Approve Pending Project\n\n### Description\nApprove a project in pending state to begin processing. Used for manual review workflows.\n\n### Method\nPOST\n\n### Endpoint\n/api/approve\n\n### Parameters\n#### Request Body\n- **projectId** (string) - Required - The unique identifier of the project to approve.\n\n#### Headers\n- **Authorization** (string) - Required - Bearer token for authentication (e.g., \"Bearer your_admin_token\").\n\n### Request Example\n```json\n{\n  \"projectId\": \"proj_abc123def456\"\n}\n```\n\n### Response\n#### Success Response (200)\n- **success** (boolean) - Indicates if the project was successfully approved.\n- **projectId** (string) - The unique identifier of the project.\n- **status** (string) - The new status of the project (e.g., \"queued\").\n- **approvedBy** (string) - The identifier of the user who approved the project.\n- **approvedAt** (string) - Timestamp when the project was approved.\n\n#### Response Example\n```json\n{\n  \"success\": true,\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"queued\",\n  \"approvedBy\": \"admin@example.com\",\n  \"approvedAt\": \"2025-10-19T11:00:00Z\"\n}\n```\n```\n\n## GET /api/project/:id - Retrieve Project Status\n\n```APIDOC\n## GET /api/project/:id - Retrieve Project Status\n\n### Description\nCheck the parsing status and retrieve project metadata including completion percentage, file counts, and any errors encountered during processing.\n\n### Method\nGET\n\n### Endpoint\n/api/project/:id\n\n### Parameters\n#### Path Parameters\n- **id** (string) - Required - The unique identifier of the project.\n\n### Response\n#### Success Response (200)\n- **projectId** (string) - The unique identifier of the project.\n- **status** (string) - The current status of the project (e.g., \"processing\", \"completed\").\n- **progress** (object) - Information about the parsing progress (if applicable).\n  - **filesProcessed** (integer) - Number of files processed so far.\n  - **totalFiles** (integer) - Total number of files to process.\n  - **percentage** (float) - Percentage of completion.\n- **contextFile** (string) - URL to the generated context file (if completed).\n- **stats** (object) - Statistics about the completed project (if completed).\n  - **totalFiles** (integer) - Total number of files processed.\n  - **totalLines** (integer) - Total number of lines of code processed.\n  - **embeddings** (integer) - Number of embeddings generated.\n  - **completedAt** (string) - Timestamp when the project was completed.\n- **metadata** (object) - Metadata about the project.\n  - **url** (string) - The original URL submitted for parsing.\n  - **type** (string) - The type of content parsed.\n  - **startedAt** (string) - Timestamp when parsing started.\n  - **language** (string) - Detected primary programming language.\n\n#### Response Example (In Progress)\n```json\n{\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"processing\",\n  \"progress\": {\n    \"filesProcessed\": 145,\n    \"totalFiles\": 312,\n    \"percentage\": 46.5\n  },\n  \"metadata\": {\n    \"url\": \"https://github.com/username/repo\",\n    \"type\": \"repository\",\n    \"startedAt\": \"2025-10-19T10:30:00Z\",\n    \"language\": \"typescript\"\n  }\n}\n```\n\n#### Response Example (Completed)\n```json\n{\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"completed\",\n  \"contextFile\": \"https://cdn.context7.com/contexts/proj_abc123def456.json\",\n  \"stats\": {\n    \"totalFiles\": 312,\n    \"totalLines\": 45678,\n    \"embeddings\": 1234,\n    \"completedAt\": \"2025-10-19T10:45:00Z\"\n  }\n}\n```\n```\n\n## Retrieve Project Status with cURL\n\n```bash\ncurl https://api.context7.com/api/project/proj_abc123def456\n\n# Response - In Progress\n{\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"processing\",\n  \"progress\": {\n    \"filesProcessed\": 145,\n    \"totalFiles\": 312,\n    \"percentage\": 46.5\n  },\n  \"metadata\": {\n    \"url\": \"https://github.com/username/repo\",\n    \"type\": \"repository\",\n    \"startedAt\": \"2025-10-19T10:30:00Z\",\n    \"language\": \"typescript\"\n  }\n}\n\n# Response - Completed\n{\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"completed\",\n  \"contextFile\": \"https://cdn.context7.com/contexts/proj_abc123def456.json\",\n  \"stats\": {\n    \"totalFiles\": 312,\n    \"totalLines\": 45678,\n    \"embeddings\": 1234,\n    \"completedAt\": \"2025-10-19T10:45:00Z\"\n  }\n}\n```\n\n## Search Project Context with cURL\n\n```bash\ncurl -X GET \"https://api.context7.com/api/search?projectId=proj_abc123def456&query=authentication+middleware&limit=10\"\n\n# Response\n{\n  \"results\": [\n    {\n      \"file\": \"src/middleware/auth.ts\",\n      \"lines\": \"45-78\",\n      \"score\": 0.92,\n      \"content\": \"export const authenticateUser = async (req, res, next) => {...}\",\n      \"context\": \"Authentication middleware with JWT validation\"\n    },\n    {\n      \"file\": \"src/services/auth.service.ts\",\n      \"lines\": \"120-156\",\n      \"score\": 0.87,\n      \"content\": \"class AuthenticationService {...}\",\n      \"context\": \"Core authentication service implementation\"\n    }\n  ],\n  \"totalResults\": 2,\n  \"queryTime\": 45\n}\n```\n\n## Approve Pending Project with cURL\n\n```bash\ncurl -X POST https://api.context7.com/api/approve \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer your_admin_token\" \\\n  -d '{ \\\n    \"projectId\": \"proj_abc123def456\" \\\n  }'\n\n# Response\n{\n  \"success\": true,\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"queued\",\n  \"approvedBy\": \"admin@example.com\",\n  \"approvedAt\": \"2025-10-19T11:00:00Z\"\n}\n```\n\n## GET /api/search - Search Project Context\n\n```APIDOC\n## GET /api/search - Search Project Context\n\n### Description\nQuery the vector embeddings to find relevant code sections based on semantic similarity.\n\n### Method\nGET\n\n### Endpoint\n/api/search\n\n### Parameters\n#### Query Parameters\n- **projectId** (string) - Required - The unique identifier of the project to search within.\n- **query** (string) - Required - The search query string.\n- **limit** (integer) - Optional - The maximum number of results to return. Defaults to 10.\n\n### Response\n#### Success Response (200)\n- **results** (array of objects) - A list of search results.\n  - **file** (string) - The file path where the result was found.\n  - **lines** (string) - The line range within the file.\n  - **score** (float) - The similarity score of the result.\n  - **content** (string) - The relevant code snippet.\n  - **context** (string) - A brief description of the context.\n- **totalResults** (integer) - The total number of results found.\n- **queryTime** (integer) - The time taken for the query in milliseconds.\n\n#### Response Example\n```json\n{\n  \"results\": [\n    {\n      \"file\": \"src/middleware/auth.ts\",\n      \"lines\": \"45-78\",\n      \"score\": 0.92,\n      \"content\": \"export const authenticateUser = async (req, res, next) => {...}\",\n      \"context\": \"Authentication middleware with JWT validation\"\n    },\n    {\n      \"file\": \"src/services/auth.service.ts\",\n      \"lines\": \"120-156\",\n      \"score\": 0.87,\n      \"content\": \"class AuthenticationService {...}\",\n      \"context\": \"Core authentication service implementation\"\n    }\n  ],\n  \"totalResults\": 2,\n  \"queryTime\": 45\n}\n```\n```\n\n## Refresh Project Data with cURL\n\n```bash\ncurl -X POST https://api.context7.com/api/refresh \\\n  -H \"Content-Type: application/json\" \\\n  -d '{ \\\n    \"projectId\": \"proj_abc123def456\", \\\n    \"forceRebuild\": false \\\n  }'\n\n# Response\n{\n  \"success\": true,\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"queued_refresh\",\n  \"previousVersion\": \"v1.2.3\",\n  \"message\": \"Refresh task queued\"\n}\n```\n\n## DELETE /api/project/:id - Remove Project\n\n```APIDOC\n## DELETE /api/project/:id - Remove Project\n\n### Description\nDelete a project and all associated data including context files, embeddings, and metadata.\n\n### Method\nDELETE\n\n### Endpoint\n/api/project/:id\n\n### Parameters\n#### Path Parameters\n- **id** (string) - Required - The unique identifier of the project to delete.\n\n#### Headers\n- **Authorization** (string) - Required - Bearer token for authentication (e.g., \"Bearer your_admin_token\").\n\n### Response\n#### Success Response (200)\n- **success** (boolean) - Indicates if the project was successfully deleted.\n- **projectId** (string) - The unique identifier of the deleted project.\n\n#### Response Example\n```json\n{\n  \"success\": true,\n  \"projectId\": \"proj_abc123def456\"\n}\n```\n```\n\n## Submit Repository for Parsing with cURL\n\n```bash\ncurl -X POST https://api.context7.com/api/parse \\\n  -H \"Content-Type: application/json\" \\\n  -d '{ \\\n    \"url\": \"https://github.com/username/repo\", \\\n    \"type\": \"repository\", \\\n    \"options\": { \\\n      \"includeTests\": true, \\\n      \"maxDepth\": 5, \\\n      \"excludePatterns\": [\"node_modules\", \"dist\", \".git\"] \\\n    } \\\n  }'\n\n# Response\n{\n  \"success\": true,\n  \"projectId\": \"proj_abc123def456\",\n  \"status\": \"queued\",\n  \"estimatedTime\": 120,\n  \"message\": \"Project queued for parsing\"\n}\n\n# Error handling\n{\n  \"success\": false,\n  \"error\": \"Invalid repository URL\",\n  \"code\": \"INVALID_URL\"\n}\n```",
    "library": "context7",
    "topic": "MCP",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-29T22:14:47.361182"
}