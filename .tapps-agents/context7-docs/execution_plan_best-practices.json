{
  "library": "execution_plan",
  "topic": "best-practices",
  "documentation": {
    "content": "## Startup Function Implementation\n\n```lua\n```lua\nlocal scheduler = require(\"@shared/scheduler\")\nlocal world = require(\"@shared/world\")\n\nreturn function(systems)\n    if #systems ~= 0 then\n        scheduler:addSystems(systems) -- Assuming you're using SystemTables!\n    end\nend\n```\n```\n\n## wally.toml Dependencies\n\n```toml\n```toml\n[dependencies]\nMatter = \"matter-ecs/matter@0.8.4\"\nPlanck = \"yetanotherclown/planck@0.2.0\"\nPlanckMatterDebugger = \"yetanotherclown/planck-matter-debugger@0.2.0\"\nPlanckMatterHooks = \"yetanotherclown/planck-matter-hooks@0.2.1\"\n```\n```\n\n## Lua: Scheduler explicit phase dependency (insertBefore)\n\n```lua\nlocal scheduler = Scheduler.new()\n    :insert(phaseA)\n    :insertBefore(phaseB, phaseA)\n    :runAll()\n\n-- phaseB runs before phaseA\n```\n\n## Create Normal System\n\n```lua\n```lua\nlocal function systemB(world)\n    -- ...\nend\n\nreturn systemB\n```\n```\n\n## ReplicatedStorage/client/client.client.luau\n\n```lua\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\n\nlocal startup = require(\"@shared/startup\")\n\nlocal systems = {}\n\nlocal function addSystems(folder)\n    for _, system in folder:GetChildren() do\n        if not system:IsA(\"ModuleScript\") then\n            continue\n        end\n\n        table.insert(systems, require(system))\n    end\nend\n\naddSystems(ReplicatedStorage.shared.systems)\naddSystems(ReplicatedStorage.client.systems)\n\nstartup(systems)\n```\n\n## Use Matter Hooks in System (Lua)\n\n```lua\nlocal MatterHooks = require(\"@packages/MatterHooks\")\n\nlocal useDeltaTime = MatterHooks.useDeltaTime\nlocal useEvent = MatterHooks.useEvent\nlocal useThrottle = MatterHooks.useThrottle\n\nfunction systemA()\n    if useThrottle(5) then\n        print(\"Throttled for 5 seconds\")\n    end\nend\n\nreturn systemA\n```\n\n## Lua: Scheduler grouping by events\n\n```lua\nlocal scheduler = Scheduler.new()\n    :insert(pipelineA, RunService.Heartbeat)\n    :insertAfter(pipelineB, RunService.PostSimulation)\n    :runAll()\n\n-- Processes Heartbeat group, then PostSimulation group\n```\n\n## Lua: Scheduler basic insertion order\n\n```lua\nlocal scheduler = Scheduler.new()\n    :insert(phaseA)\n    :insert(phaseB)\n    :runAll()\n\n-- phaseA will run before phaseB\n```\n\n## Lua: Scheduler explicit phase dependency (insertAfter)\n\n```lua\nlocal scheduler = Scheduler.new()\n    :insert(phaseA)\n    :insertAfter(phaseB, phaseA)\n    :runAll()\n\n-- phaseB depends on phaseA and runs after it\n```\n\n## Define Matter Components\n\n```lua\n```lua\nlocal Matter = require(\"@packages/Matter\")\n\nreturn {\n    MyComponent = Matter.component(\"myComponent\"),\n}\n```\n```\n\nContext7 cache for execution_plan: cached at 2026-01-31T00:10:47.398296+00:00Z; consider refreshing if docs changed.",
    "library": "execution_plan",
    "topic": "best-practices",
    "source": "cache"
  },
  "source": "cache",
  "saved_at": "2026-01-30T16:10:47.476519"
}