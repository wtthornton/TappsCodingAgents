{
  "library": "agent_contracts",
  "topic": "best-practices",
  "documentation": {
    "content": "## Example: Run Orchestrator with a User Query\n\n```python\nquery = \"find one random GIF of a cat that is funny and share it on twitter with the hashtag #agentsjson\"\n\norchestrator(agents_list, [{\"role\": \"user\", \"content\": query}])\n```\n\n## Configure API Keys and Agents.json URLs\n\n```python\nOPENAI_API_KEY=\"\"\nCOLLECTION_NAME=\"\"\n\nRESEND_API_KEY=\"<your-resend-api-key>\"\nHUBSPOT_ACCESS_TOKEN=\"<your-hubspot-access-token>\"\nGOOGLE_SHEETS_ACCESS_TOKEN=\"<your-google-sheets-access-token>\"\n\nRESEND_AGENTS_JSON_URL=\"https://raw.githubusercontent.com/wild-card-ai/agents-json/refs/heads/master/agents_json/resend/agents.json\"\nHUBSPOT_AGENTS_JSON_URL=\"https://raw.githubusercontent.com/wild-card-ai/agents-json/refs/heads/lang/typescript/agents_json/hubspotcontacts/agents.json\"\nGOOGLE_SHEETS_AGENTS_JSON_URL=\"https://raw.githubusercontent.com/wild-card-ai/agents-json/refs/heads/lang/typescript/agents_json/googlesheets/agents.json\"\n```\n\n## Demonstrate Full Wildcard Agent Flow with a New Query\n\n```python\nquery2 = \"Send an email to kaushik@wild-card.ai from contact@wild-card.ai with the subject 'Hello from Wild Card'\"\n\n\nagents_json2 = find_tool(query2)\nresponse2 = run_agent(query2, agents_json2)\nauth2 = find_auth(agents_json2)\nresult2 = execute(agents_json2, response2, ToolFormat.OPENAI, auth2)\nresult2\n```\n\n## Assemble Agent Toolkit with Flows and Authentication\n\n```python\ntoolkit = {\n    \"hubspot\": {\n        \"flows\": hubspot_flows,\n        \"bundle\": hubspot_bundle,\n        \"auth\": hubspot_auth\n    },\n    \"google sheets\": {\n        \"flows\": google_sheets_flows,\n        \"bundle\": google_sheets_bundle,\n        \"auth\": google_sheets_auth\n    },\n    \"resend\": {\n        \"flows\": resend_flows,\n        \"bundle\": resend_bundle,\n        \"auth\": resend_auth\n    }\n}\n```\n\n## Configure Authentication for Services\n\n```python\nfrom agentsjson.core.models.auth import OAuth2AuthConfig, ApiKeyAuthConfig, AuthType\n\n# OAuth2 config for HubSpot\nhubspot_auth = OAuth2AuthConfig(\n    type=AuthType.OAUTH2,\n    token=HUBSPOT_ACCESS_TOKEN,\n    token_type=\"Bearer\",\n    refresh_token=None,\n    expires_at=None,\n    scopes=None\n)\n\n# OAuth2 config for Google Sheets\ngoogle_sheets_auth = OAuth2AuthConfig(\n    type=AuthType.OAUTH2,\n    token=GOOGLE_SHEETS_ACCESS_TOKEN,\n    token_type=\"Bearer\",\n    refresh_token=None,\n    expires_at=None,\n    scopes=None\n)\n\n# API Key config for Resend\nresend_auth = ApiKeyAuthConfig(\n    type=AuthType.API_KEY,\n    key_value=RESEND_API_KEY,\n    key_name=None,\n    key_prefix=None\n)\n```\n\n## Install Python Libraries for Agents.json and OpenAI\n\n```python\n%pip install agentsjson\n%pip install openai\n```\n\n## Define and Access Authentication Toolkit for Agents\n\n```python\ntoolkit = {\n    \"resend\": resend_auth,\n}\n\ndef find_auth(agents_json):\n    api = agents_json.sources[0].id\n    return toolkit[api]\n```\n\n## Install Required Python Libraries\n\n```python\n%pip install agentsjson\n%pip install openai\n```\n\n## Define Generic AI Agent Creation Function\n\n```python\nfrom openai import OpenAI\nfrom agentsjson.core import ToolFormat, flows_tools, execute_flows\n\ndef create_agent(bundle, flows, system_prompt, auth):\n    openai_client = OpenAI(api_key=OPENAI_API_KEY)\n    \n    def agent(user_request):\n        response = openai_client.chat.completions.create(\n            model=\"gpt-4o\",\n            messages=[{\"role\": \"system\", \"content\": system_prompt}, {\"role\": \"user\", \"content\": user_request}],\n            tools=flows_tools(flows, format=ToolFormat.OPENAI),\n            tool_choice=\"auto\",\n        )\n        \n        # Run the flows\n        response = execute_flows(response, format=ToolFormat.OPENAI, bundle=bundle, flows=flows, auth=auth)\n        return response\n    return agent\n```\n\n## Prepare Agents for Orchestration\n\n```python\nimport json\n\nagents_list = [\n    {\n        \"name\": \"twitter_agent\",\n        \"agent\": twitter_agent,\n        \"description\": \"This agent makes requests to the Twitter API.\"\n    },\n    {\n        \"name\": \"giphy_agent\",\n        \"agent\": giphy_agent,\n        \"description\": \"This agent makes requests to the Giphy API.\"\n    }\n]\n```",
    "library": "agent_contracts",
    "topic": "overview",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-29T22:14:09.956353"
}