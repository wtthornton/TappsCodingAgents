{
  "library": "worktree",
  "topic": "examples",
  "documentation": {
    "content": "## Available MCP Tools for Treehouse\n\n```typescript\n// Available tools in MCP server\nconst tools = [\n  { name: 'treehouse_init', description: 'Initialize configuration' },\n  { name: 'treehouse_list', description: 'List all worktrees' },\n  { name: 'treehouse_create', description: 'Create new worktree' },\n  { name: 'treehouse_status', description: 'Get worktree status' },\n  { name: 'treehouse_complete', description: 'Complete and merge work' },\n  { name: 'treehouse_remove', description: 'Remove worktree' },\n  { name: 'treehouse_lock', description: 'Lock worktree' },\n  { name: 'treehouse_unlock', description: 'Unlock worktree' },\n  { name: 'treehouse_conflicts', description: 'Check conflicts' },\n  { name: 'treehouse_resolve', description: 'Resolve conflicts' },\n  { name: 'treehouse_abort', description: 'Abort merge' },\n  { name: 'treehouse_prune', description: 'Prune orphaned entries' },\n  { name: 'treehouse_clean', description: 'Clean old worktrees' }\n];\n\n// Example: Merge with conflict resolution\n// 1. Complete the worktree with merge\ntreehouse_complete({ name: 'feature-api', merge: true })\n\n// 2. If conflicts occur, check them\ntreehouse_conflicts({ name: 'feature-api' })\n\n// 3. Resolve using strategy\ntreehouse_resolve({ name: 'feature-api', strategy: 'theirs' })\n```\n\n## Programmatic Worktree Management with Treehouse Library\n\n```typescript\nimport { treehouse } from 'treehouse-worktree';\n\n// Create a worktree\nconst result = await treehouse.create({\n  name: 'feature-api',\n  agentId: 'my-agent',\n  lockMessage: 'Working on API'\n});\n\n// List worktrees\nconst list = await treehouse.list();\n\n// Complete work\nawait treehouse.complete({\n  name: 'feature-api',\n  merge: true,\n  deleteBranch: true\n});\n```\n\n## Agent Coordination with treehouse-worktree\n\n```bash\n# Create and lock for an agent\ntreehouse create feature-api --agent claude-1 --message \"Working on API endpoints\"\n\n# Lock an existing worktree\ntreehouse lock feature-api --agent claude-2 --expiry 120\n\n# Unlock a worktree\ntreehouse unlock feature-api\n```\n\n## Maintenance Commands\n\n```APIDOC\n## Maintenance Commands\n\nCleanup and maintenance operations for worktree management.\n\n### Prune orphaned entries\n\n```bash\n# Prune orphaned worktree entries\ntreehouse prune\n```\n\n### Clean worktrees\n\n```bash\n# Preview cleanup (dry run)\ntreehouse clean --dry-run\n\n# Clean old worktrees based on retention policy\ntreehouse clean\n```\n\n### Lock and Unlock Worktree\n\n```bash\n# Lock an existing worktree\ntreehouse lock feature-api --agent claude-2 --expiry 120\n\n# Unlock a worktree\ntreehouse unlock feature-api\n```\n```\n\n## Worktree Maintenance Commands\n\n```bash\n# Prune orphaned worktree entries\ntreehouse prune\n\n# Preview cleanup (dry run)\ntreehouse clean --dry-run\n\n# Clean old worktrees based on retention policy\ntreehouse clean\n\n# Lock an existing worktree\ntreehouse lock feature-api --agent claude-2 --expiry 120\n\n# Unlock a worktree\ntreehouse unlock feature-api\n```\n\n## Platform-Specific Setup Commands in Configuration\n\n```json\n{\n  \"setup-worktree\": [\n    \"# Install dependencies\",\n    \"npm install\",\n    \"# Copy environment file from main repo\",\n    \"cp $ROOT_WORKTREE_PATH/.env .env\",\n    \"# Generate prisma client\",\n    \"npx prisma generate\"\n  ],\n  \"setup-worktree-unix\": \"./scripts/setup-worktree.sh\",\n  \"setup-worktree-windows\": \"./scripts/setup-worktree.ps1\"\n}\n```\n\n## Maintenance Commands for treehouse-worktree\n\n```bash\n# Prune orphaned worktree entries\ntreehouse prune\n\n# Clean old worktrees (based on config)\ntreehouse clean --dry-run   # preview\ntreehouse clean             # actually remove\n```\n\n## Setup Commands for Worktree\n\n```json\n{\n  \"setup-worktree\": [\n    \"npm install\",\n    \"cp $ROOT_WORKTREE_PATH/.env .env\"\n  ]\n}\n```\n\n## Conflict Resolution Commands\n\n```bash\n# Check for conflicts in all worktrees\ntreehouse conflicts\n\n# Check specific worktree\ntreehouse conflicts feature-api\n\n# Resolve conflicts using 'theirs' strategy (accept incoming changes)\ntreehouse resolve feature-api --theirs\n\n# Resolve using 'ours' strategy (keep current changes)\ntreehouse resolve feature-api --ours\n\n# Abort merge and restore previous state\ntreehouse abort feature-api\n```\n\n## Conflict Resolution in treehouse-worktree\n\n```bash\n# Check for conflicts\ntreehouse conflicts\ntreehouse conflicts feature-api  # in specific worktree\n\n# Resolve conflicts\ntreehouse resolve --ours         # keep current branch changes\ntreehouse resolve --theirs       # accept incoming changes\ntreehouse resolve feature-api --theirs\n\n# Abort merge\ntreehouse abort\ntreehouse abort feature-api\n```",
    "library": "worktree",
    "topic": "usage",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T18:29:59.283565"
}