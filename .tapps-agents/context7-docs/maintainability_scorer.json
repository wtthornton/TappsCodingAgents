{
  "library": "maintainability_scorer",
  "topic": null,
  "documentation": {
    "content": "## Core Objects Overview\n\n```APIDOC\n## Core Objects\n\nThis API manages several core objects that define the functionality and execution of AI-powered tools.\n\n### Objects:\n\n*   **Run**: Represents a single execution of a tool or process. Identified by a unique `runId` (UUID). See lifecycle documentation for details on its states.\n    *   **Response Shape**: `RunDto`\n*   **Intent**: Defines the declarative outcome expected from an execution. This should be user-facing and testable, focusing on 'what' needs to be achieved rather than 'how'.\n*   **Integrations**: Refers to the tools or services that the agent can call. When creating runs, use tenant-scoped `customerIntegrationId`s. The global identifier for an integration is `integrationId`.\n*   **Context**: Contains hidden execution parameters not exposed to end-users. This includes settings like timezone, filters, IDs, safety limits, and feature flags.\n*   **UserID**: Identifies the user whose tokens and permissions are applied during an execution (act-as-user). This is considered sensitive information. Token revocation should be managed at the integration level.\n*   **Approval Strategy**: Determines the human-in-the-loop control mechanism. Possible values are `NONE` (no approval needed), `ON_START` (approval required before execution begins), or `ON_TOOL_CALL` (approval required before each tool call).\n*   **Plan**: Represents the execution plan, which can be in either `text` or `JSON` format. This is included in the `CreateRunResponse` and may be displayed for runs using the `ON_START` approval strategy.\n*   **Events (SSE)**: A Server-Sent Events stream providing real-time updates on the status of a run, including step start/completion, approval requests, errors, and the final result.\n*   **Result**: A structured object, if produced by the run, included in the `RunDto.result` field.\n*   **Feedback**: Allows users to provide feedback on a run, typically through a thumbs-up/down mechanism and comments, used for evaluation and improvement loops.\n```\n\n## Structured JSON Response for Deals and Activities\n\n```json\n{\n  \"deals\": [\n    {\n      \"id\": 7,\n      \"value\": 900000,\n      \"currency\": \"USD\",\n      \"activityId\": null\n    },\n    {\n      \"id\": 8,\n      \"value\": 112343,\n      \"currency\": \"USD\",\n      \"activityId\": 1592\n    },\n    {\n      \"id\": 10,\n      \"value\": 126666,\n      \"currency\": \"USD\",\n      \"activityId\": null\n    },\n    {\n      \"id\": 18,\n      \"value\": 213000,\n      \"currency\": \"USD\",\n      \"activityId\": null\n    },\n    {\n      \"id\": 21,\n      \"value\": 213000,\n      \"currency\": \"USD\",\n      \"activityId\": 1593\n    },\n    {\n      \"id\": 41,\n      \"value\": 95000,\n      \"currency\": \"USD\",\n      \"activityId\": 1594\n    },\n    {\n      \"id\": 43,\n      \"value\": 75000,\n      \"currency\": \"USD\",\n      \"activityId\": 1595\n    }\n  ],\n  \"activities\": [\n    {\n      \"id\": 1592,\n      \"name\": \"Lunch meeting\",\n      \"scheduledDateTime\": \"2025-10-02T12:00:00+00:00\"\n    },\n    {\n      \"id\": 1593,\n      \"name\": \"Lunch meeting\",\n      \"scheduledDateTime\": \"2025-10-03T12:00:00+00:00\"\n    },\n    {\n      \"id\": 1594,\n      \"name\": \"Lunch meeting\",\n      \"scheduledDateTime\": \"2025-10-06T12:00:00+00:00\"\n    },\n    {\n      \"id\": 1595,\n      \"name\": \"Lunch meeting\",\n      \"scheduledDateTime\": \"2025-10-07T12:00:00+00:00\"\n    }\n  ]\n}\n```\n\n## GET /v1/runs/approval\n\n```APIDOC\n## GET /v1/runs/approval\n\n### Description\nApprove or deny a run or its individual steps.\n\n### Method\nGET\n\n### Endpoint\n/v1/runs/approval\n\n### Parameters\n#### Query Parameters\n- **token** (string) - Required - The token to approve or deny the run/steps\n\n#### Request Body\nNone\n\n### Request Example\n```\nGET /v1/runs/approval?token=your_approval_token_here\n```\n\n### Response\n#### Success Response (201)\n- The response schema is currently unspecified in the provided OpenAPI definition.\n\n#### Response Example\n```json\n{\n  \"message\": \"Approval processed successfully.\"\n}\n```\n\n#### Error Responses\n- **400** - Invalid request body or parameters\n- **401** - Unauthorized - invalid API key\n```\n\n## Resume Run with Approval Token\n\n```APIDOC\n## GET /v1/runs/approval\n\n### Description\nApproves or denies a paused run. This endpoint uses a one-time token provided in the query parameter. Approving a run will return it to the RUNNING state. Denying a run typically results in a CANCELED state.\n\n### Method\nGET\n\n### Endpoint\n/v1/runs/approval\n\n### Parameters\n#### Query Parameters\n- **token** (string) - Required - A one-time token used to approve or deny the run.\n- **action** (string) - Optional - The action to take, either 'approve' or 'deny'. Defaults to 'approve' if not provided.\n\n### Response\n#### Success Response (200)\n- **status** (string) - Indicates the outcome of the approval action (e.g., 'approved', 'denied').\n\n#### Error Response (400)\n- **message** (string) - Invalid token or action provided.\n```\n\n## RunDto JSON Schema (Selected Fields)\n\n```json\n{\n\"runId\": \"...\",\n\"status\": \"QUEUED|RUNNING|AUTH_REQUIRED|PAUSED|CANCELED|SUCCESS|FAILED\",\n\"stepsFinished\": [ { /* step summaries */ } ],\n\"result\": { /* outcome */ },\n\"createdAt\": \"2025-08-01T12:00:00Z\",\n\"updatedAt\": \"2025-08-01T12:05:00Z\"\n}\n```\n\n## Approve or Deny Run Approval (OpenAPI)\n\n```json\n{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"toolregistry.ai API\",\n    \"version\": \"1.0\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"https://api.toolregistry.ai\"\n    }\n  ],\n  \"security\": [\n    {}\n  ],\n  \"paths\": {\n    \"/v1/runs/approval\": {\n      \"get\": {\n        \"description\": \"Approve or deny a run or its individual steps\",\n        \"operationId\": \"RunController_runApproval\",\n        \"parameters\": [\n          {\n            \"name\": \"token\",\n            \"required\": true,\n            \"in\": \"query\",\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Approval handled\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Invalid request body or parameters\"\n          },\n          \"401\": {\n            \"description\": \"Unauthorized - invalid API key\"\n          }\n        },\n        \"summary\": \"Approve or deny a run or its individual steps\",\n        \"tags\": [\n          \"Run\"\n        ]\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {}\n  }\n}\n```\n\n## Define FeedbackMetadataDto in OpenAPI\n\n```json\n{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"toolregistry.ai API\",\n    \"version\": \"1.0\"\n  },\n  \"components\": {\n    \"schemas\": {\n      \"FeedbackMetadataDto\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"version\": {\n            \"type\": \"string\"\n          },\n          \"sessionId\": {\n            \"type\": \"string\"\n          },\n          \"experimentId\": {\n            \"type\": \"string\"\n          },\n          \"environment\": {\n            \"type\": \"string\"\n          },\n          \"clientVersion\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n## IntegrationResponseDto JSON Schema\n\n```json\n{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"toolregistry.ai API\",\n    \"version\": \"1.0\"\n  },\n  \"components\": {\n    \"schemas\": {\n      \"IntegrationResponseDto\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"integrationId\": {\n            \"type\": \"string\"\n          },\n          \"customerIntegrationId\": {\n            \"type\": \"string\"\n          },\n          \"active\": {\n            \"type\": \"boolean\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"host\": {\n            \"type\": \"string\"\n          },\n          \"updatedAt\": {\n            \"format\": \"date-time\",\n            \"type\": \"string\"\n          },\n          \"createdAt\": {\n            \"format\": \"date-time\",\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"integrationId\",\n          \"customerIntegrationId\",\n          \"active\",\n          \"name\",\n          \"host\",\n          \"updatedAt\",\n          \"createdAt\"\n        ]\n      }\n    }\n  }\n}\n```\n\n## GET /v1/runs/{runId}/sse\n\n```APIDOC\n## GET /v1/runs/{runId}/sse\n\n### Description\nEstablishes a Server-Sent Events connection to stream real-time updates for a run.\n\n### Method\nGET\n\n### Endpoint\n/v1/runs/{runId}/sse\n\n### Parameters\n#### Path Parameters\n- **runId** (string) - Required - Unique identifier of the run to stream events for (format: uuid)\n\n### Request Example\n(No request body for GET requests)\n\n### Response\n#### Success Response (200)\n- Description: SSE stream established successfully\n- Content: text/event-stream (string) - Server-sent events stream with run updates\n\n#### Response Example\n(The response is a stream of Server-Sent Events, not a single JSON object. Example format of individual events):\n```\nevent: run_update\ndata: {\"status\": \"RUNNING\", \"progress\": 50}\n\nevent: run_update\ndata: {\"status\": \"SUCCESS\", \"result\": {\"output\": \"Completed.\"}}\n```\n\n#### Error Responses\n- **401** - Unauthorized - invalid API key\n- **404** - Run not found\n- **500** - Internal server error or stream error\n```\n\n## Conceptual Endpoint Allow-list Configuration\n\n```yaml\nallowed_endpoints:\n  - GET /PublicHolidays\n  - GET /PublicHolidaysByDate\n  - POST /activities\n  - PUT /deals/{id}\n# there is no deny list; anything not listed remains disabled\n```",
    "library": "capability_registry",
    "topic": "overview",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-02-03T09:50:09.568380"
}