{
  "library": "iteration_reducer",
  "topic": null,
  "documentation": {
    "content": "## Accessing the First Error\n\n```APIDOC\n## GET /api/resource\n\n### Description\nThis endpoint retrieves a resource. It shows how to access only the first error when the ErrorOr result indicates an error.\n\n### Method\nGET\n\n### Endpoint\n/api/resource\n\n### Parameters\n#### Query Parameters\n- **id** (string) - Required - The ID of the resource to retrieve.\n\n### Request Example\n```json\n{\n  \"query\": {\n    \"id\": \"resource-789\"\n  }\n}\n```\n\n### Response\n#### Error Response (400)\n- **firstError** (Error object) - The first error encountered.\n  - **description** (string) - A description of the error.\n\n#### Response Example\n```json\n{\n  \"firstError\": {\n    \"description\": \"Resource not found.\"\n  }\n}\n```\n```\n\n## Error Handling\n\n```APIDOC\n## GET /api/resource\n\n### Description\nThis endpoint retrieves a resource. It demonstrates how to check if an ErrorOr result contains errors and access the list of errors.\n\n### Method\nGET\n\n### Endpoint\n/api/resource\n\n### Parameters\n#### Query Parameters\n- **id** (string) - Required - The ID of the resource to retrieve.\n\n### Request Example\n```json\n{\n  \"query\": {\n    \"id\": \"resource-456\"\n  }\n}\n```\n\n### Response\n#### Error Response (400)\n- **errors** (list of Error objects) - A list of errors that occurred during the request.\n  - **description** (string) - A description of the error.\n\n#### Response Example\n```json\n{\n  \"errors\": [\n    {\n      \"description\": \"Resource not found.\"\n    },\n    {\n      \"description\": \"Invalid ID format.\"\n    }\n  ]\n}\n```\n```\n\n## Value Handling\n\n```APIDOC\n## GET /api/resource\n\n### Description\nThis endpoint retrieves a resource. It demonstrates how to access the value when the ErrorOr result is successful.\n\n### Method\nGET\n\n### Endpoint\n/api/resource\n\n### Parameters\n#### Query Parameters\n- **id** (string) - Required - The ID of the resource to retrieve.\n\n### Request Example\n```json\n{\n  \"query\": {\n    \"id\": \"resource-123\"\n  }\n}\n```\n\n### Response\n#### Success Response (200)\n- **value** (int) - The successfully retrieved integer value.\n\n#### Response Example\n```json\n{\n  \"value\": 42\n}\n```\n```\n\n## Creating Built-in Error Types\n\n```csharp\nvar error = Error.NotFound();\n```\n\n## Creating Built-in Error Types\n\n```csharp\nvar error = Error.Unexpected(\n    code: \"User.ShouldNeverHappen\",\n    description: \"A user error that should never happen\",\n    metadata: new Dictionary<string, object>\n    {\n        { \"user\", user },\n    });\n```\n\n## Error Metadata in C#\n\n```csharp\nvar error = Error.Validation(\n    code: \"User.InvalidAge\",\n    description: \"User age must be between 18 and 120.\",\n    metadata: new Dictionary<string, object>\n    {\n        { \"providedAge\", 15 },\n        { \"minAge\", 18 },\n        { \"maxAge\", 120 },\n        { \"field\", \"age\" }\n    });\n\n// Access metadata\nif (error.Metadata?.TryGetValue(\"providedAge\", out var age) == true)\n{\n    Console.WriteLine($\"Provided age: {age}\");\n}\n```\n\n## Accessing Errors or Empty List\n\n```APIDOC\n## GET /api/resource\n\n### Description\nThis endpoint retrieves a resource. It shows how to safely access the list of errors, which will be an empty list if the operation was successful.\n\n### Method\nGET\n\n### Endpoint\n/api/resource\n\n### Parameters\n#### Query Parameters\n- **id** (string) - Required - The ID of the resource to retrieve.\n\n### Request Example\n```json\n{\n  \"query\": {\n    \"id\": \"resource-abc\"\n  }\n}\n```\n\n### Response\n#### Success Response (200)\n- **errorsOrEmptyList** (list of Error objects) - An empty list if no errors occurred.\n\n#### Error Response (400)\n- **errorsOrEmptyList** (list of Error objects) - A list of errors that occurred.\n  - **description** (string) - A description of the error.\n\n#### Response Example (Success)\n```json\n{\n  \"errorsOrEmptyList\": []\n}\n```\n\n#### Response Example (Error)\n```json\n{\n  \"errorsOrEmptyList\": [\n    {\n      \"description\": \"Resource not found.\"\n    }\n  ]\n}\n```\n```\n\n## Executing Actions with ThenDo and ThenDoAsync (C#)\n\n```csharp\nErrorOr<string> foo = result\n    .ThenDo(val => Console.WriteLine(val))\n    .ThenDo(val => Console.WriteLine($\"The result is {val}\"));\n\nErrorOr<string> bar = await result\n    .ThenDoAsync(val => Task.Delay(val))\n    .ThenDo(val => Console.WriteLine($\"Finsihed waiting {val} seconds.\"))\n    .ThenDoAsync(val => Task.FromResult(val * 2))\n    .ThenDo(val => $\"The result is {val}\");\n```\n\n## Using Built-in Result Types\n\n```csharp\nErrorOr<Success> result = Result.Success;\nErrorOr<Created> result = Result.Created;\nErrorOr<Updated> result = Result.Updated;\nErrorOr<Deleted> result = Result.Deleted;\n```\n\n## Using Built-in Result Types\n\n```csharp\nErrorOr<Deleted> DeleteUser(Guid id)\n{\n    var user = await _userRepository.GetByIdAsync(id);\n    if (user is null)\n    {\n        return Error.NotFound(description: \"User not found.\");\n    }\n\n    await _userRepository.DeleteAsync(user);\n    return Result.Deleted;\n}\n```\n\n## Accessing Errors in ErrorOr (C#)\n\n```csharp\nErrorOr<int> result = User.Create();\n\nif (result.IsError)\n{\n    result.Errors // contains the list of errors that occurred\n        .ForEach(error => Console.WriteLine(error.Description));\n}\n```\n\n## MatchFirst Method\n\n```APIDOC\n## POST /api/process/first\n\n### Description\nThis endpoint processes data. The `MatchFirst` method is used to handle success or only the first error encountered.\n\n### Method\nPOST\n\n### Endpoint\n/api/process/first\n\n### Parameters\n#### Request Body\n- **data** (object) - Required - The data to be processed.\n\n### Request Example\n```json\n{\n  \"data\": {\n    \"input\": \"first error data\"\n  }\n}\n```\n\n### Response\n#### Success Response (200)\n- **result** (string) - The successful outcome of the process.\n\n#### Error Response (400)\n- **result** (string) - A message containing the description of the first error.\n\n#### Response Example (Success)\n```json\n{\n  \"result\": \"processed value\"\n}\n```\n\n#### Response Example (Error)\n```json\n{\n  \"result\": \"Resource not found.\"\n}\n```\n```",
    "library": "error_recovery",
    "topic": "overview",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T18:31:34.984821"
}