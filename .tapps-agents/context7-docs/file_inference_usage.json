{
  "library": "file_inference",
  "topic": "usage",
  "documentation": {
    "content": "## Calculating Model Memory Usage with xinference\n\n```bash\nxinference cal-model-mem -s 7 -q Int4 -f gptq -c 16384 -n qwen1.5-chat\n```\n\n## Example Usage of split_sentences_en - Python\n\n```python\nsplit_sentences_en('\u2014\u00bfHab\u00e9is estado casada alguna vez?')\n```\n\n## Starting Local Xinference Server\n\n```bash\n$ xinference-local\n```\n\n## Example Usage of es2ipa - Python\n\n```python\nes2ipa('\u2014\u00bfHab\u00e9is estado casada alguna vez?')\n```\n\n## Launching sd3.5-medium Image Model with GGUF Quantization and CPU Offload\n\n```bash\nxinference launch --model-name sd3.5-medium --model-type image --gguf_quantization ${gguf_quantization} --cpu_offload True\n```\n\n## Example Output of Model Memory Calculation\n\n```bash\nmodel_name: qwen1.5-chat\nkv_cache_dtype: 16\nmodel size: 7.0 B\nquant: Int4\ncontext: 16384\ngpu mem usage:\n  model mem: 4139 MB\n  kv_cache: 8192 MB\n  overhead: 650 MB\n  active: 17024 MB\n  total: 30005 MB (30 GB)\n```\n\n## Running Xinference Docker Container with Modelscope (Bash)\n\n```Bash\ndocker run -e XINFERENCE_MODEL_SRC=modelscope -p 9998:9997 --gpus all xprobe/xinference:v<your_version> xinference-local -H 0.0.0.0 --log-level debug\n```\n\n## Launching Xinference Image Model with GGUF Quantization (Command Line)\n\n```bash\nxinference launch --model-name FLUX.1-dev --model-type image --gguf_quantization Q2_K --cpu_offload True\n```\n\n## Launching Video Model with CPU Offloading\n\n```bash\nxinference launch --model-name Wan2.1-i2v-14B-480p --model-type video --cpu_offload True\n```\n\n## Output of Chat Completions Request (JSON)\n\n```json\n{\n  \"id\": \"chatcmpl-8d76b65a-bad0-42ef-912d-4a0533d90d61\",\n  \"model\": \"qwen2.5-instruct\",\n  \"object\": \"chat.completion\",\n  \"created\": 1688919187,\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"The largest animal that has been scientifically measured is the blue whale, which has a maximum length of around 23 meters (75 feet) for adult animals and can weigh up to 150,000 pounds (68,000 kg). However, it is important to note that this is just an estimate and that the largest animal known to science may be larger still. Some scientists believe that the largest animals may not have a clear \\\"size\\\" in the same way that humans do, as their size can vary depending on the environment and the stage of their life.\"\n      },\n      \"finish_reason\": \"None\"\n    }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": -1,\n    \"completion_tokens\": -1,\n    \"total_tokens\": -1\n  }\n}\n```\n",
    "library": "file_inference",
    "topic": "usage",
    "source": "api"
  },
  "source": "api",
  "saved_at": "2026-01-29T22:14:26.662231"
}