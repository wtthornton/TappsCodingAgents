{
  "library": "command_registry",
  "topic": "usage",
  "documentation": {
    "content": "## Page Builder Block Definition and Usage\n\n```statamic\n{{# @name {{ name }} @desc The {{ name }} page builder block. @set page.page_builder.{{ handle }} #}}\n{{ partial:page_builder/block }}\n\n{{ title ?= { partial:typography/h1 as=\"h2\" :content=\"title\" class=\"md:col-span-12\" } }}\n```\n\n## Perform File Copy and Templating with PHP Copy Operation\n\n```php\n<?php\n\nuse Studio1902\\PeakCommands\\Operations\\Copy;\nuse Studio1902\\PeakCommands\\Models\\Installable;\n\n// Define copy operation config\n$copyConfig = [\n    'type' => 'copy',\n    'input' => 'stubs/collection.yaml.stub',\n    'output' => 'content/collections/{{ handle }}.yaml',\n    'skippable' => false,  // If true, prompts to skip if file exists\n    'replacements' => [\n        '{{ collection_name }}' => 'Blog Posts',\n        '{{ route }}' => '/blog/{slug}',\n        '{{ layout }}' => 'layout',\n        '{{ revisions }}' => 'true',\n        '{{ dated }}' => 'true',\n        '{{ mount }}' => 'blog-index',\n    ],\n];\n\n// Create installable context\n$installable = new Installable([\n    'name' => 'Blog Posts',\n    'handle' => 'blog_posts',\n    'base_path' => base_path('vendor/studio1902/statamic-peak-commands/resources'),\n    'operations' => [],\n]);\n\n// Execute copy operation\n$operation = new Copy($copyConfig);\n$operation->hydrate($installable);\n$result = $operation->run();\n\n// Default replacements available:\n// {{ handle }} -> installable handle\n// {{ filename }} -> installable handle\n// {{ name }} -> installable name\n// {{ singular_handle }} -> singular handle\n// {{ singular_name }} -> singular name\n// {{ filepath }} -> directory path if handle contains /\n// {{ filepath_dotted }} -> directory path with dots\n// {{ multisite_handle }} -> site handle if multisite enabled\n\n// Output:\n// Installed file: 'content/collections/blog_posts.yaml'.\n\n```\n\n## Execute Installable Operations with PHP\n\n```php\n<?php\n\nuse Studio1902PeakCommandsModels\\Installable;\n\n// Create an installable instance from config\n$config = [\n    'name' => 'Call to Action',\n    'handle' => 'call_to_action',\n    'base_path' => base_path('vendor/studio1902/statamic-peak-commands/resources/blocks/call_to_action'),\n    'operations' => [\n        [\n            'type' => 'copy',\n            'input' => '_call_to_action.antlers.html',\n            'output' => 'resources/views/page_builder/_call_to_action.antlers.html',\n        ],\n        [\n            'type' => 'copy',\n            'input' => 'call_to_action.yaml',\n            'output' => 'resources/fieldsets/call_to_action.yaml',\n        ],\n        [\n            'type' => 'update_page_builder',\n            'block' => [\n                'name' => 'Call to Action',\n                'instructions' => 'Show a call to action.',\n                'icon' => 'alert-alarm-bell',\n                'handle' => 'call_to_action',\n            ],\n        ],\n    ],\n];\n\n$installable = app(Installable::class, ['config' => $config]);\n\n// Execute all operations in sequence\n$result = $installable->install();\n\n// The install method:\n// 1. Resolves each operation type through the registry\n// 2. Hydrates operation with installable context\n// 3. Executes operation run() method\n// 4. Returns updated installable for chaining\n\n// Handles directory structures in handles:\n// 'utilities/card' becomes handle='card' with filepath='utilities/'\n\n```\n\n## Page Builder and Section Rendering\n\n```statamic\n{{ page_builder scope=\"block\" }} {{ partial src=\"page_builder/{type}\" }} {{ /page_builder }}\n\n{{ section:index_content }}\n```\n\n## Statamic Partial for Paragraph Component\n\n```antlers\n{{ partial:typography/p :content=\"teaser\" }}\n```\n\n## Display Copyright Information (Statamic)\n\n```statamic\n\u00a9 {{ configuration:copyright_since }} {{ unless (now | format('Y')) == configuration:copyright_since }} - {{ now | format('Y') }} {{ /unless }} {{ configuration:copyright_name ?? config:app:name }}\n```\n\n## Manage Operation Paths and Namespaces with PHP Registry\n\n```php\n<?php\n\nuse Studio1902\\PeakCommands\\Facades\\Registry;\n\n// Add custom paths in AppServiceProvider boot method\npublic function boot(): void\n{\n    // Add custom blocks path\n    Registry::addBlocksPath(base_path('app/Peak/Blocks'));\n\n    // Add custom presets path\n    Registry::addPresetsPath(base_path('app/Peak/Presets'));\n\n    // Add custom sets path\n    Registry::addSetsPath(base_path('app/Peak/Sets'));\n\n    // Remove default paths if needed\n    Registry::removeBlocksPath(base_path('vendor/studio1902/statamic-peak-commands/resources/blocks'));\n\n    // Add custom operation namespace\n    Registry::appendNamespace('\\App\\Peak\\Operations');\n\n    // Or prepend to prioritize custom operations\n    Registry::prependNamespace('\\App\\Peak\\Operations');\n}\n\n// Get all registered paths\n$paths = Registry::getPaths();\n// Returns:\n// [\n//     'blocks' => [...paths],\n//     'presets' => [...paths],\n//     'sets' => [...paths],\n// ]\n\n// Get registered operation namespaces\n$namespaces = Registry::getNamespaces();\n// Returns: ['\\Studio1902\\PeakCommands\\Operations', ...]\n\n// Resolve operation by type\n$operation = Registry::resolveOperation('copy', [\n    'input' => 'stub.html',\n    'output' => 'resources/views/output.html',\n]);\n// Searches namespaces for '\\Studio1902\\PeakCommands\\Operations\\Copy'\n// Returns instantiated operation ready to run\n\n```\n\n## Include SEO Snippet\n\n```Statamic\n{{ partial:statamic-peak-seo::snippets/seo }}\n```\n\n## Create Reusable Antlers Partial Template\n\n```bash\nphp please peak:make:partial\n```\n\n## Statamic Antlers User Logout Link\n\n```antlers\n[{{ trans:strings.account_logout }}]({{ user:logout_url redirect= \"{ trans:strings.account_logout }}\")\n```",
    "library": "commands",
    "topic": "usage",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T18:27:54.221924"
}