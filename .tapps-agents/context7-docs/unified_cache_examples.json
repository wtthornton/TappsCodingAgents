{
  "library": "unified_cache",
  "topic": "examples",
  "documentation": {
    "content": "## JavaScript: Example usage of unified.js Plugin\n\n```javascript\n/**\n * @import {Plugin} from 'unified'\n */\n\n/**\n * @typedef Options\n *   Configuration (required).\n * @property {string} extname\n *   File extension to use (must start with `.`)\n */\n\n/** @type {Plugin<[Options]>} */\nexport function move(options) {\n  if (!options || !options.extname) {\n    throw new Error('Missing `options.extname`')\n  }\n\n  return function (_, file) {\n    if (file.extname && file.extname !== options.extname) {\n      file.extname = options.extname\n    }\n  }\n}\n\n```\n\n## JavaScript: Example usage of unified.js Plugin\n\n```javascript\nimport rehypeStringify from 'rehype-stringify'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport {read, write} from 'to-vfile'\nimport {unified} from 'unified'\nimport {reporter} from 'vfile-reporter'\nimport {move} from './move.js'\n\nconst file = await unified()\n  .use(remarkParse)\n  .use(remarkRehype)\n  .use(move, {extname: '.html'})\n  .use(rehypeStringify)\n  .process(await read('example.md'))\n\nconsole.error(reporter(file))\nawait write(file) // Written to `example.html`.\n```\n\n## Processor Freezing and Extension (APIDOC)\n\n```APIDOC\nprocessor.freeze()\n  - Freezes a processor, making it immutable.\n  - Frozen processors cannot be configured further.\n  - New processors can be created from frozen ones.\n  - Processors freeze automatically when methods like `.parse()`, `.run()`, `.process()` are called.\n\n  Returns:\n    The current processor instance (now frozen).\n\n  Example:\n    // Correct usage: Create a frozen processor\n    import {unified} from 'unified'\n    import rehypeParse from 'rehype-parse'\n    import rehypeStringify from 'rehype-stringify'\n    export const rehype = unified().use(rehypeParse).use(rehypeStringify).freeze()\n\n    // Extending a frozen processor throws an error\n    // rehype.use(somePlugin) // Error: Cannot call `use` on a frozen processor.\n\n  Error Example:\n    // Yields:\n    // Error: Cannot call `use` on a frozen processor.\n    // Create a new processor first, by calling it: use `processor()` instead of `processor`.\n```\n\n## Unified Processor API Documentation\n\n```APIDOC\nprocessor.process(file?)\n  - Processes a file using the configured processor.\n  - If asynchronous transforms are configured, it returns a Promise.\n  - Freezes the processor if not already frozen.\n  - Performs parse, run, and stringify phases.\n  - Parameters:\n    - file: Compatible, optional. File to process (string or VFile).\n  - Returns: Promise<VFile> or VFile.\n  - Note: The compiled value is at `file.value`. Compilers may return different types than string.\n\nprocessor.processSync(file?)\n  - Processes a file synchronously.\n  - Throws an error if asynchronous transforms are configured.\n  - Freezes the processor if not already frozen.\n  - Performs parse, run, and stringify phases.\n  - Parameters:\n    - file: Compatible, optional. File to process (string or VFile).\n  - Returns: VFile.\n  - Note: Similar to `process`, but synchronous.\n\nprocessor.run(tree, file?, done?)\n  - Runs transformers on a syntax tree.\n  - Freezes the processor if not already frozen.\n  - Performs the 'run' phase.\n  - Signatures:\n    - processor.run(tree, done)\n    - processor.run(tree, file, done)\n    - Promise<Node> = processor.run(tree, file?)\n  - Parameters:\n    - tree: Node. The syntax tree to transform.\n    - file: Compatible, optional. File associated with the tree.\n    - done: RunCallback, optional. Callback function.\n  - Returns: Nothing if `done` is provided, otherwise a Promise<Node>.\n\nprocessor.runSync(tree, file?)\n  - Runs transformers on a syntax tree synchronously.\n  - Throws an error if asynchronous transforms are configured.\n  - Freezes the processor if not already frozen.\n  - Performs the 'run' phase.\n  - Parameters:\n    - tree: Node. The syntax tree to transform.\n    - file: Compatible, optional. File associated with the tree.\n  - Returns: Node. The transformed tree.\n```\n\n## processor.use API\n\n```APIDOC\nprocessor.use(plugin[, options])\n  Configures the processor to use a plugin, a list of usable values, or a preset.\n\n  Note: `use` cannot be called on frozen processors. Call the processor first to create a new unfrozen processor.\n\n  Signatures:\n    processor.use(preset?)\n    processor.use(list)\n    processor.use(plugin[, ...parameters])\n\n  Parameters:\n    preset ([Preset]) \u2014 plugins and settings\n    list ([PluggableList]) \u2014 list of usable things\n    plugin ([Plugin]) \u2014 plugin\n    parameters (Array<unknown>) \u2014 configuration for plugin, typically a single options object\n\n  Returns:\n    Current processor ([processor])\n\n  Example:\n    import {unified} from 'unified'\n\n    unified()\n      // Plugin with options:\n      .use(pluginA, {x: true, y: true})\n      // Passing the same plugin again merges configuration (to {x: true, y: false, z: true}):\n      .use(pluginA, {y: false, z: true})\n      // Plugins:\n      .use([pluginB, pluginC])\n      // Two plugins, the second with options:\n      .use([pluginD, [pluginE, {}]])\n      // Preset with plugins and settings:\n      .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})\n      // Settings only:\n      .use({settings: {position: false}})\n```\n\n## Get and Set Processor Data (JavaScript)\n\n```javascript\nimport {unified} from 'unified'\n\nconst processor = unified().data('alpha', 'bravo')\n\nprocessor.data('alpha') // => 'bravo'\n\nprocessor.data() // => {alpha: 'bravo'}\n\nprocessor.data({charlie: 'delta'})\n\nprocessor.data() // => {charlie: 'delta'}\n```\n\n## Processor Parser Property (APIDOC)\n\n```APIDOC\nprocessor.parser\n  - Gets or sets the parser to use for the processor.\n  - This property is optional.\n\n  Type:\n    Parser: A parser function or undefined.\n```\n\n## processor.stringify API\n\n```APIDOC\nprocessor.stringify(tree[, file])\n  Compiles a syntax tree.\n\n  Note: `stringify` freezes the processor if not already frozen.\n  Note: `stringify` performs the stringify phase, not the run phase or other phases.\n\n  Parameters:\n    tree ([Node]) \u2014 tree to compile\n    file ([Compatible], optional) \u2014 file associated with node; any value accepted as x in new VFile(x)\n\n  Returns:\n    Textual representation of the tree (Uint8Array or string, see note).\n\n  Note: unified typically compiles by serializing: most compilers return string (or Uint8Array). Some compilers, such as the one configured with rehype-react, return other values (in this case, a React tree).\n  If you\u2019re using a compiler that doesn\u2019t serialize, expect different result values.\n  To register custom results in TypeScript, add them to CompileResultMap.\n\n  Example:\n    import {h} from 'hastscript'\n    import rehypeStringify from 'rehype-stringify'\n    import {unified} from 'unified'\n\n    const tree = h('h1', 'Hello world!')\n\n    const document = unified().use(rehypeStringify).stringify(tree)\n\n    console.log(document)\n```\n\n## Parse File to Syntax Tree (APIDOC)\n\n```APIDOC\nprocessor.parse(file)\n  - Parses input content into a syntax tree.\n  - Freezes the processor if not already frozen.\n  - Performs the parse phase only.\n\n  Parameters:\n    file (Compatible): The input to parse. Typically a string or VFile.\n\n  Returns:\n    Node: A syntax tree representing the input file.\n\n  Example:\n    import remarkParse from 'remark-parse'\n    import {unified} from 'unified'\n    const tree = unified().use(remarkParse).parse('# Hello world!')\n    console.log(tree)\n    // Yields:\n    // {\n    //   type: 'root',\n    //   children: [\n    //     {type: 'heading', depth: 1, children: [Array], position: [Object]}\n    //   ],\n    //   position: { start: {line: 1, column: 1, offset: 0}, end: {line: 1, column: 15, offset: 14} }\n    // }\n```\n\n## Configure Unified Processor\n\n```js\nconst processor = unified()\n  .use(remarkParse)\n  .use(remarkRehype)\n  .use(rehypeDocument, {title: '\ud83d\udc4b\ud83c\udf0d'})\n  .use(rehypeFormat)\n  .use(rehypeStringify)\n```\n\n## Process File Through Phases (APIDOC)\n\n```APIDOC\nprocessor.process(file[, done])\n  - Processes a file through the configured parse, run, and stringify phases.\n  - Freezes the processor if not already frozen.\n\n  Signatures:\n    processor.process(file, done)\n    Promise<VFile> = processor.process(file?)\n\n  Parameters:\n    file (Compatible, optional): The file to process. Typically a string or VFile.\n    done (ProcessCallback, optional): A callback function to be executed upon completion.\n\n  Returns:\n    Nothing if `done` is provided.\n    Otherwise, a Promise that resolves with the processed VFile or rejects with an error.\n\n  Note on Results:\n    The compiled value is available at `file.value`. Compilers typically return strings or Uint8Arrays, but custom compilers (e.g., with `rehype-react`) may return other types like React trees.\n```",
    "library": "unified_cache",
    "topic": "usage",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T18:25:54.149792"
}