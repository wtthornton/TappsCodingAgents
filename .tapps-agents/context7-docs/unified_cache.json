{
  "library": "unified_cache",
  "topic": null,
  "documentation": {
    "content": "## Unified Processor Example\n\n```js\nimport rehypeStringify from 'rehype-stringify'\nimport remarkParse from 'remark-parse'\nimport remarkPresetLintMarkdownStyleGuide from 'remark-preset-lint-markdown-style-guide'\nimport remarkRehype from 'remark-rehype'\nimport remarkRetext from 'remark-retext'\nimport retextEnglish from 'retext-english'\nimport retextEquality from 'retext-equality'\nimport {unified} from 'unified'\nimport {reporter} from 'vfile-reporter'\n\nconst file = await unified()\n  .use(remarkParse)\n  .use(remarkPresetLintMarkdownStyleGuide)\n  .use(remarkRetext, unified().use(retextEnglish).use(retextEquality))\n  .use(remarkRehype)\n  .use(rehypeStringify)\n  .process('*Emphasis* and _stress_, you guys!')\n\nconsole.error(reporter(file))\nconsole.log(String(file))\n```\n\n## Processor Freezing and Extension (APIDOC)\n\n```APIDOC\nprocessor.freeze()\n  - Freezes a processor, making it immutable.\n  - Frozen processors cannot be configured further.\n  - New processors can be created from frozen ones.\n  - Processors freeze automatically when methods like `.parse()`, `.run()`, `.process()` are called.\n\n  Returns:\n    The current processor instance (now frozen).\n\n  Example:\n    // Correct usage: Create a frozen processor\n    import {unified} from 'unified'\n    import rehypeParse from 'rehype-parse'\n    import rehypeStringify from 'rehype-stringify'\n    export const rehype = unified().use(rehypeParse).use(rehypeStringify).freeze()\n\n    // Extending a frozen processor throws an error\n    // rehype.use(somePlugin) // Error: Cannot call `use` on a frozen processor.\n\n  Error Example:\n    // Yields:\n    // Error: Cannot call `use` on a frozen processor.\n    // Create a new processor first, by calling it: use `processor()` instead of `processor`.\n```\n\n## Process File Through Phases (APIDOC)\n\n```APIDOC\nprocessor.process(file[, done])\n  - Processes a file through the configured parse, run, and stringify phases.\n  - Freezes the processor if not already frozen.\n\n  Signatures:\n    processor.process(file, done)\n    Promise<VFile> = processor.process(file?)\n\n  Parameters:\n    file (Compatible, optional): The file to process. Typically a string or VFile.\n    done (ProcessCallback, optional): A callback function to be executed upon completion.\n\n  Returns:\n    Nothing if `done` is provided.\n    Otherwise, a Promise that resolves with the processed VFile or rejects with an error.\n\n  Note on Results:\n    The compiled value is available at `file.value`. Compilers typically return strings or Uint8Arrays, but custom compilers (e.g., with `rehype-react`) may return other types like React trees.\n```\n\n## Unified Processor API\n\n```APIDOC\nProcessor API:\n\nprocessor(): Creates a new processor instance.\n\nprocessor.compiler: Configures the compiler to use.\n\nprocessor.data([key[, value]]): Gets or sets arbitrary data on the processor.\n  - key: The data key (string).\n  - value: The data value (any).\n\nprocessor.freeze(): Freezes the processor, preventing further configuration changes.\n\nprocessor.parse(file): Parses a file into an AST.\n  - file: A VFile or path.\n  - Returns: AST.\n\nprocessor.parser: Configures the parser to use.\n\nprocessor.process(file[, done]): Processes a file asynchronously.\n  - file: A VFile or path.\n  - done: Callback function (err, file, next).\n  - Returns: Promise.\n\nprocessor.processSync(file): Processes a file synchronously.\n  - file: A VFile or path.\n  - Returns: VFile.\n\nprocessor.run(tree[, file][, done]): Runs transformers on an AST asynchronously.\n  - tree: AST.\n  - file: VFile.\n  - done: Callback function (err, tree, next).\n  - Returns: Promise.\n\nprocessor.runSync(tree[, file]): Runs transformers on an AST synchronously.\n  - tree: AST.\n  - file: VFile.\n  - Returns: AST.\n\nprocessor.stringify(tree[, file]): Stringifies an AST.\n  - tree: AST.\n  - file: VFile.\n  - Returns: string.\n\nprocessor.use(plugin[, options]): Adds a plugin to the processor.\n  - plugin: Plugin function or tuple.\n  - options: Plugin options.\n\nTypes:\n\nCompileResultMap: Map of file paths to compile results.\nCompileResults: Array of compile results.\nCompiler: Interface for compilers.\nData: Interface for data.\nParser: Interface for parsers.\nPluggable: Type for plugins, presets, or tuples.\nPluggableList: Array of pluggables.\nPlugin: Function that transforms ASTs.\nPluginTuple: Tuple of [plugin, options].\nPreset: Object with plugins and settings.\nProcessCallback: Callback for async processing.\nProcessor: The unified processor instance.\nRunCallback: Callback for async run.\nSettings: Configuration settings.\nTransformCallback: Callback for async transformations.\nTransformer: Function that transforms ASTs.\n\n```\n\n## Unified Processor API Documentation\n\n```APIDOC\nprocessor.process(file?)\n  - Processes a file using the configured processor.\n  - If asynchronous transforms are configured, it returns a Promise.\n  - Freezes the processor if not already frozen.\n  - Performs parse, run, and stringify phases.\n  - Parameters:\n    - file: Compatible, optional. File to process (string or VFile).\n  - Returns: Promise<VFile> or VFile.\n  - Note: The compiled value is at `file.value`. Compilers may return different types than string.\n\nprocessor.processSync(file?)\n  - Processes a file synchronously.\n  - Throws an error if asynchronous transforms are configured.\n  - Freezes the processor if not already frozen.\n  - Performs parse, run, and stringify phases.\n  - Parameters:\n    - file: Compatible, optional. File to process (string or VFile).\n  - Returns: VFile.\n  - Note: Similar to `process`, but synchronous.\n\nprocessor.run(tree, file?, done?)\n  - Runs transformers on a syntax tree.\n  - Freezes the processor if not already frozen.\n  - Performs the 'run' phase.\n  - Signatures:\n    - processor.run(tree, done)\n    - processor.run(tree, file, done)\n    - Promise<Node> = processor.run(tree, file?)\n  - Parameters:\n    - tree: Node. The syntax tree to transform.\n    - file: Compatible, optional. File associated with the tree.\n    - done: RunCallback, optional. Callback function.\n  - Returns: Nothing if `done` is provided, otherwise a Promise<Node>.\n\nprocessor.runSync(tree, file?)\n  - Runs transformers on a syntax tree synchronously.\n  - Throws an error if asynchronous transforms are configured.\n  - Freezes the processor if not already frozen.\n  - Performs the 'run' phase.\n  - Parameters:\n    - tree: Node. The syntax tree to transform.\n    - file: Compatible, optional. File associated with the tree.\n  - Returns: Node. The transformed tree.\n```\n\n## processor.stringify API\n\n```APIDOC\nprocessor.stringify(tree[, file])\n  Compiles a syntax tree.\n\n  Note: `stringify` freezes the processor if not already frozen.\n  Note: `stringify` performs the stringify phase, not the run phase or other phases.\n\n  Parameters:\n    tree ([Node]) \u2014 tree to compile\n    file ([Compatible], optional) \u2014 file associated with node; any value accepted as x in new VFile(x)\n\n  Returns:\n    Textual representation of the tree (Uint8Array or string, see note).\n\n  Note: unified typically compiles by serializing: most compilers return string (or Uint8Array). Some compilers, such as the one configured with rehype-react, return other values (in this case, a React tree).\n  If you\u2019re using a compiler that doesn\u2019t serialize, expect different result values.\n  To register custom results in TypeScript, add them to CompileResultMap.\n\n  Example:\n    import {h} from 'hastscript'\n    import rehypeStringify from 'rehype-stringify'\n    import {unified} from 'unified'\n\n    const tree = h('h1', 'Hello world!')\n\n    const document = unified().use(rehypeStringify).stringify(tree)\n\n    console.log(document)\n```\n\n## Processor Parser Property (APIDOC)\n\n```APIDOC\nprocessor.parser\n  - Gets or sets the parser to use for the processor.\n  - This property is optional.\n\n  Type:\n    Parser: A parser function or undefined.\n```\n\n## Process Markdown to HTML with unified\n\n```javascript\nimport rehypeDocument from 'rehype-document'\nimport rehypeFormat from 'rehype-format'\nimport rehypeStringify from 'rehype-stringify'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport {unified} from 'unified'\nimport {reporter} from 'vfile-reporter'\n\nconst file = await unified()\n  .use(remarkParse)\n  .use(remarkRehype)\n  .use(rehypeDocument, {title: '\ud83d\udc4b\ud83c\udf0d'})\n  .use(rehypeFormat)\n  .use(rehypeStringify)\n  .process('# Hello world!')\n\nconsole.error(reporter(file))\nconsole.log(String(file))\n\n```\n\n## Install unified\n\n```shell\nnpm install unified\n```\n\n## Install unified\n\n```javascript\nimport {unified} from 'https://esm.sh/unified@11'\n\n```\n\n## Install unified\n\n```html\n<script type=\"module\">\n  import {unified} from 'https://esm.sh/unified@11?bundle'\n</script>\n\n```\n\n## Parse File to Syntax Tree (APIDOC)\n\n```APIDOC\nprocessor.parse(file)\n  - Parses input content into a syntax tree.\n  - Freezes the processor if not already frozen.\n  - Performs the parse phase only.\n\n  Parameters:\n    file (Compatible): The input to parse. Typically a string or VFile.\n\n  Returns:\n    Node: A syntax tree representing the input file.\n\n  Example:\n    import remarkParse from 'remark-parse'\n    import {unified} from 'unified'\n    const tree = unified().use(remarkParse).parse('# Hello world!')\n    console.log(tree)\n    // Yields:\n    // {\n    //   type: 'root',\n    //   children: [\n    //     {type: 'heading', depth: 1, children: [Array], position: [Object]}\n    //   ],\n    //   position: { start: {line: 1, column: 1, offset: 0}, end: {line: 1, column: 15, offset: 14} }\n    // }\n```\n",
    "library": "unified_cache",
    "topic": "overview",
    "source": "api"
  },
  "source": "api",
  "saved_at": "2026-01-30T18:25:02.512286"
}