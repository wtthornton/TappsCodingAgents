{
  "library": "output_aggregator",
  "topic": "usage",
  "documentation": {
    "content": "## Basic String Parser Usage\n\n```typescript\nimport { string } from \"@optique/core/valueparser\";\n\n// Basic string parser\nconst name = string();\n\n// String with custom metavar for help text\nconst hostname = string({ metavar: \"HOST\" });\n\n// String with pattern validation\nconst identifier = string({\n  metavar: \"ID\",\n  pattern: /^[a-zA-Z][a-zA-Z0-9_]*$/\n});\n```\n\n## CLI Usage Examples\n\n```bash\n# Build command\n$ build-tool build src/index.ts --target es2022 --minify -v\n\n# Dev server\n$ build-tool dev --port 8080 --open --watch\n\n# Testing\n$ build-tool test --coverage --pattern \"*.spec.ts\" --timeout 10000\n\n# Help system\n$ build-tool --help\n$ build-tool help\n$ build-tool help build\n\n```\n\n## Single Primitive Parser Usage in Optique\n\n```typescript\nimport { option, parse } from \"@optique/core/parser\";\nimport { string } from \"@optique/core/valueparser\";\n\nconst nameParser = option(\"--name\", string());\nconst result = parse(nameParser, [\"--name\", \"Alice\"]);\n\nif (result.success) {\n  console.log(`Hello, ${result.value}!`);\n} else {\n  console.error(result.error);\n}\n```\n\n## Constant Parser Usage\n\n```typescript\nimport { constant } from \"@optique/core/parser\";\n\n// Always produces the string \"add\" without consuming input\nconst addCommand = constant(\"add\");\n\n// Can produce any type of constant value\nconst defaultPort = constant(8080);\nconst defaultConfig = constant({ debug: false, verbose: true });\n```\n\n## Constant Parser Usage\n\n```typescript\nimport { command, constant, object, option, or, parse } from \"@optique/core/parser\";\nimport { string } from \"@optique/core/valueparser\";\n\nconst parser = or(\n  command(\"add\", object({\n    type: constant(\"add\"),\n    file: option(\"-f\", \"--file\", string())\n  })),\n  command(\"remove\", object({\n    type: constant(\"remove\"),\n    force: option(\"--force\")\n  }))\n);\n\n// TypeScript can now distinguish between the two commands\nconst result = parse(parser, [\"add\", \"--file\", \"example.txt\"]);\nif (result.success && result.value.type === \"add\") {\n  // TypeScript knows this is the \"add\" command result\n  console.log(`Adding file: ${result.value.file}`);\n} else if (result.success && result.value.type === \"remove\") {\n  // TypeScript knows this is the \"remove\" command result\n  console.log(`Force remove: ${result.value.force}`);\n}\n```\n\n## Usage Patterns for Optional Parsers\n\n```typescript\nimport { argument, object, option, optional, parse } from \"@optique/core/parser\";\nimport { choice, string } from \"@optique/core/valueparser\";\n// ---cut-before---\nconst backupConfig = object({\n  source: argument(string({ metavar: \"SRC\" })), // Required source\n  destination: argument(string({ metavar: \"DEST\" })), // Required destination\n  compression: optional(option(\"-c\", \"--compress\", choice([\"gzip\", \"bzip2\"]))),\n  encrypt: optional(option(\"--encrypt\", string({ metavar: \"KEY_FILE\" })))\n});\n\nconst config = parse(backupConfig, [\"-c\", \"src\", \"dest\"]);\n\n// Handle optional parameters explicitly\nif (config.success) {\n  const { source, destination, compression, encrypt } = config.value;\n\n  console.log(`Backing up ${source} to ${destination}`);\n\n  if (compression) {\n    console.log(`Using ${compression} compression`);\n  }\n\n  if (encrypt) {\n    console.log(`Encrypting with key from ${encrypt}`);\n  }\n}\n```\n\n## Tuple Usage Patterns\n\n```typescript\nimport { argument, parse, tuple } from \"@optique/core/parser\";\nimport { integer } from \"@optique/core/valueparser\";\n// ---cut-before---\nconst rangeParser = tuple([\n  argument(integer({ metavar: \"START\" })),\n  argument(integer({ metavar: \"END\" }))\n]);\n\n// Usage: myapp 10 20\n// Result: [10, 20]\n\nconst config = parse(rangeParser, [\"10\", \"20\"]);\nif (config.success) {\n  const [start, end] = config.value;\n  console.log(`Processing range ${start} to ${end}`);\n}\n\n```\n\n## Basic UUID Parser (TypeScript)\n\n```typescript\nimport { uuid } from \"@optique/core/valueparser\";\n\n// Basic UUID parser\nconst id = uuid();\n\n// UUID with version restrictions\nconst uuidV4 = uuid({\n  allowedVersions: [4],\n  metavar: \"UUID_V4\"\n});\n\n// UUID allowing multiple versions\nconst trackingId = uuid({\n  allowedVersions: [1, 4, 5]\n});\n```\n\n## Server Configuration with Defaults\n\n```typescript\nimport { object, option, parse, withDefault } from \"@optique/core/parser\";\nimport { choice, integer, string } from \"@optique/core/valueparser\";\n\nclass Server {\n  constructor(config: {\n    name: string;\n    host: string;\n    port: number;\n    logLevel: \"debug\" | \"info\" | \"warn\" | \"error\";\n    maxConnections: number;\n  }) {\n  }\n}\n\nconst serverConfig = object({\n  // Required parameters\n  name: option(\"-n\", \"--name\", string()),\n\n  // Optional with defaults - no undefined handling needed\n  host: withDefault(option(\"-h\", \"--host\", string()), \"0.0.0.0\"),\n  port: withDefault(option(\"-p\", \"--port\", integer({ min: 1, max: 65535 })), 3000),\n  logLevel: withDefault(\n    option(\"--log-level\", choice([\"debug\", \"info\", \"warn\", \"error\"])),\n    \"info\",\n  ),\n  maxConnections: withDefault(option(\"--max-conn\", integer({ min: 1 })), 100)\n});\n\n// Clean usage without undefined checks\nconst config = parse(serverConfig, [\"--name\", \"my-server\", \"--port\", \"8080\"]);\nif (config.success) {\n  const server = new Server({\n    name: config.value.name,\n    host: config.value.host,           // Always \"0.0.0.0\" if not specified\n    port: config.value.port,           // 8080 from input\n    logLevel: config.value.logLevel,   // Always \"info\" if not specified\n    maxConnections: config.value.maxConnections // Always 100 if not specified\n  });\n}\n```\n\n## Choice Parser (Basic Usage)\n\n```typescript\nimport { choice } from \"@optique/core/valueparser\";\n\n// Log level choice\nconst logLevel = choice([\"debug\", \"info\", \"warn\", \"error\"]);\n\n// Output format choice\nconst format = choice([\"json\", \"yaml\", \"xml\", \"csv\"]);\n\n// Case-insensitive choice\nconst protocol = choice([\"http\", \"https\", \"ftp\"], {\n  caseInsensitive: true\n});\n```\n\n## Basic Locale Parser (TypeScript)\n\n```typescript\nimport { locale } from \"@optique/core/valueparser\";\n\n// Basic locale parser\nconst userLocale = locale();\n\n// Locale with custom metavar\nconst displayLocale = locale({ metavar: \"LANG\" });\n```",
    "library": "output_compactor",
    "topic": "usage",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-29T22:14:31.227818"
}