{
  "library": "multi-agent expert systems",
  "topic": "best-practices",
  "documentation": {
    "content": "## Security Best Practice: Using allow_list for Sensitive APIs\n\n```yaml\nallow_list:\n  - \"getResource\"\n  - \"listResources\"\n  - \"updateResource\"\n# Deliberately exclude \"deleteResource\"\n```\n\n## Configuring Database Provider Selection (Python)\n\n```python\n@pytest.fixture(scope=\"session\", params=[\"sqlite\", \"postgresql\"])\ndef db_provider_type(request):\n    return request.param\n```\n\n## Configuring Database Provider Selection (Python)\n\n```python\n@pytest.fixture(scope=\"session\")\ndef db_provider_type():\n    return \"sqlite\"  # Force SQLite only for this test file\n```\n\n## Secure Credential Management with Environment Variables\n\n```yaml\n# Good - use environment variables\nauth:\n  type: apikey\n  in: header\n  name: api_key\n  value: ${API_KEY}\n\n# Bad - hardcoded credentials\nauth:\n  type: apikey\n  in: header\n  name: api_key\n  value: \"sk-1234567890abcdef\"  # Don't do this!\n```\n\n## Configure Cache Strategy in Model Settings (YAML)\n\n```yaml\nmodels:\n  # High-frequency orchestrator with 5-minute cache\n  planning:\n    model: anthropic/claude-sonnet-4-5-20250929\n    api_key: ${ANTHROPIC_API_KEY}\n    cache_strategy: \"5m\"\n    temperature: 0.1\n\n  # Burst-pattern agent with 1-hour cache\n  analysis:\n    model: anthropic/claude-sonnet-4-5-20250929\n    api_key: ${ANTHROPIC_API_KEY}\n    cache_strategy: \"1h\"\n    temperature: 0.7\n\n  # Low-frequency agent with caching disabled\n  maintenance:\n    model: anthropic/claude-sonnet-4-5-20250929\n    api_key: ${ANTHROPIC_API_KEY}\n    cache_strategy: \"none\"\n\n```\n\n## Configure Multiple Tool Variations with YAML (YAML)\n\n```yaml\ntools:\n  # Formal greeting\n  - tool_type: python\n    component_module: \"my_hello_agent.tools\"\n    function_name: \"hello_tool\"\n    tool_name: \"formal_greeting\"\n    tool_config:\n      greeting_prefix: \"Good day\"\n  \n  # Casual greeting\n  - tool_type: python\n    component_module: \"my_hello_agent.tools\"\n    function_name: \"hello_tool\"\n    tool_name: \"casual_greeting\"\n    tool_config:\n      greeting_prefix: \"Hey there\"\n  \n  # Enthusiastic greeting\n  - tool_type: python\n    component_module: \"my_hello_agent.tools\"\n    function_name: \"hello_tool\"\n    tool_name: \"enthusiastic_greeting\"\n    tool_config:\n      greeting_prefix: \"Hello and welcome\"\n\n```\n\n## Artifact Management Tools\n\n```APIDOC\n## POST /api/artifacts/create\n\n### Description\nCreates a new file artifact and its corresponding metadata.\n\n### Method\nPOST\n\n### Endpoint\n/api/artifacts/create\n\n### Parameters\n#### Request Body\n- **filename** (str) - Required - The designated name for the artifact (for example, \"report.pdf\").\n- **content** (str) - Required - The file content. For binary file types, this content must be base64-encoded.\n- **mime_type** (str) - Required - The standard MIME type of the content (for example, \"text/plain\", \"image/png\").\n- **metadata** (dict) - Optional - A dictionary containing custom metadata (for example, `{\"description\": \"Monthly sales data\"}`).\n\n### Request Example\n```json\n{\n  \"filename\": \"report.txt\",\n  \"content\": \"This is the content of the report.\",\n  \"mime_type\": \"text/plain\",\n  \"metadata\": {\n    \"description\": \"A sample report file\"\n  }\n}\n```\n\n### Response\n#### Success Response (200)\n- **artifact_id** (str) - The unique identifier for the created artifact.\n- **version** (int) - The version number of the created artifact.\n\n#### Response Example\n```json\n{\n  \"artifact_id\": \"a1b2c3d4e5f6\",\n  \"version\": 1\n}\n```\n\n---\n```\n\n## Artifact Management Tools\n\n```APIDOC\n## GET /api/artifacts/list\n\n### Description\nLists all available artifacts within the current session, providing a summary of their metadata.\n\n### Method\nGET\n\n### Endpoint\n/api/artifacts/list\n\n### Parameters\n#### Query Parameters\nNone\n\n### Request Example\n```json\n{\n  \"example\": \"No request body needed.\"\n}\n```\n\n### Response\n#### Success Response (200)\n- **artifacts** (list) - A list of artifact objects, each containing filename, versions, and metadata_summary.\n  - **filename** (str) - The name of the artifact.\n  - **versions** (list) - A list of version numbers for the artifact.\n  - **metadata_summary** (dict) - A summary of the latest version's metadata.\n\n#### Response Example\n```json\n{\n  \"artifacts\": [\n    {\n      \"filename\": \"report.txt\",\n      \"versions\": [1, 2],\n      \"metadata_summary\": {\n        \"description\": \"A sample report file\",\n        \"created_at\": \"2023-10-27T10:00:00Z\"\n      }\n    }\n  ]\n}\n```\n\n---\n```\n\n## Artifact Management Tools\n\n```APIDOC\n## POST /api/artifacts/load\n\n### Description\nLoads the content or detailed metadata of a specific version of an artifact.\n\n### Method\nPOST\n\n### Endpoint\n/api/artifacts/load\n\n### Parameters\n#### Request Body\n- **filename** (str) - Required - The name of the artifact to be loaded.\n- **version** (int) - Required - The specific version number of the artifact to load.\n- **load_metadata_only** (bool) - Optional - If True, returns only the metadata dictionary. Defaults to False.\n\n### Request Example\n```json\n{\n  \"filename\": \"report.txt\",\n  \"version\": 1,\n  \"load_metadata_only\": false\n}\n```\n\n### Response\n#### Success Response (200)\n- **content** (str) - The artifact's content (for text-based files) or basic info (for binary files) if `load_metadata_only` is False.\n- **metadata** (dict) - The complete metadata dictionary if `load_metadata_only` is True.\n\n#### Response Example (Content Load)\n```json\n{\n  \"content\": \"This is the content of the report.\"\n}\n```\n\n#### Response Example (Metadata Load)\n```json\n{\n  \"metadata\": {\n    \"filename\": \"report.txt\",\n    \"version\": 1,\n    \"mime_type\": \"text/plain\",\n    \"description\": \"A sample report file\",\n    \"created_at\": \"2023-10-27T10:00:00Z\"\n  }\n}\n```\n\n---\n```\n\n## Artifact Management Tools\n\n```APIDOC\n## POST /api/artifacts/signal_return\n\n### Description\nInstructs the system to transmit a specific artifact version to the caller. The actual transmission is handled based on the configured `artifact_handling_mode`.\n\n### Method\nPOST\n\n### Endpoint\n/api/artifacts/signal_return\n\n### Parameters\n#### Request Body\n- **filename** (str) - Required - The name of the artifact to be returned.\n- **version** (int) - Required - The specific version number of the artifact to return.\n\n### Request Example\n```json\n{\n  \"filename\": \"report.txt\",\n  \"version\": 1\n}\n```\n\n### Response\n#### Success Response (200)\n- **status** (str) - A message confirming that the request has been received.\n\n#### Response Example\n```json\n{\n  \"status\": \"Artifact signal received. Transmission will proceed based on artifact_handling_mode.\"\n}\n```\n\n---\n```\n\n## Signal Artifact for Return\n\n```python\nagent.tools.artifact_management.signal_artifact_for_return(filename=\"final_report.docx\", version=3)\n```\n\n## Test Artifacts Setup and Verification with Python\n\n```python\n# Setup initial artifacts\nsetup_artifacts = [{\n    \"filename\": \"input.txt\",\n    \"content\": \"Initial content\",\n    \"mime_type\": \"text/plain\"\n}]\n\n# Include in declarative test YAML or setup programmatically\n# ... run test ...\n\n# Verify artifact was modified/created\nartifacts = await test_artifact_service_instance.list_artifact_keys(\n    app_name=\"TestAgent\",\n    user_id=\"user@example.com\",\n    session_id=\"session_id\"\n)\nassert \"output.txt\" in artifacts\n```\n\n## A2A Protocol Topic Structures\n\n```APIDOC\n## A2A Protocol Topic Structures\n\n### Description\nDefines the hierarchical topic structures for routing A2A protocol messages between Solace Agent Mesh components.\n\n### Method\nN/A (These are topic patterns, not specific API endpoints with HTTP methods)\n\n### Endpoint\nN/A\n\n### Parameters\nN/A\n\n### Topic Patterns\n\n- **Agent Discovery**: `{namespace}/a2a/v1/discovery/agentcards`\n  - Purpose: Used for discovering agent cards within the mesh.\n- **Task Requests**: `{namespace}/a2a/v1/agent/request/{target_agent_name}`\n  - Purpose: Used for sending task requests to a specific target agent.\n  - Path Parameters:\n    - `target_agent_name` (string) - The name of the agent to which the task is directed.\n- **Status Updates**: `{namespace}/a2a/v1/gateway/status/{gateway_id}/{task_id}`\n  - Purpose: Used for reporting the status of a task or operation.\n  - Path Parameters:\n    - `gateway_id` (string) - The identifier of the gateway reporting the status.\n    - `task_id` (string) - The identifier of the task the status relates to.\n- **Final Responses**: `{namespace}/a2a/v1/gateway/response/{gateway_id}/{task_id}`\n  - Purpose: Used for delivering the final response of a task.\n  - Path Parameters:\n    - `gateway_id` (string) - The identifier of the gateway delivering the response.\n    - `task_id` (string) - The identifier of the task for which the response is provided.\n- **Peer Delegation Status**: `{namespace}/a2a/v1/agent/status/{delegating_agent_name}/{sub_task_id}`\n  - Purpose: Used for reporting the status of a delegated sub-task.\n  - Path Parameters:\n    - `delegating_agent_name` (string) - The name of the agent that delegated the sub-task.\n    - `sub_task_id` (string) - The identifier of the delegated sub-task.\n- **Peer Delegation Response**: `{namespace}/a2a/v1/agent/response/{delegating_agent_name}/{sub_task_id}`\n  - Purpose: Used for delivering the response of a delegated sub-task.\n  - Path Parameters:\n    - `delegating_agent_name` (string) - The name of the agent that delegated the sub-task.\n    - `sub_task_id` (string) - The identifier of the delegated sub-task.\n\n### Request Example\nN/A (These are topic patterns for message routing)\n\n### Response\nN/A (These are topic patterns for message routing)\n\n```\n\n## Python DynamicTool with Lifecycle Methods\n\n```python\n# src/my_agent/api_tool.py\nfrom solace_agent_mesh.agent.sac.component import SamAgentComponent\nfrom solace_agent_mesh.agent.tools.dynamic_tool import DynamicTool\nfrom solace_agent_mesh.agent.tools.tool_config_types import AnyToolConfig\n\n```\n\nContext7 cache for multi-agent expert systems: cached at 2026-01-30T06:14:40.868610+00:00Z; consider refreshing if docs changed.",
    "library": "multi-agent expert systems",
    "topic": "best-practices",
    "source": "cache"
  },
  "source": "cache",
  "saved_at": "2026-01-29T22:14:40.934819"
}