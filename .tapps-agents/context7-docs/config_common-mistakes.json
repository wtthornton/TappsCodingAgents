{
  "library": "config",
  "topic": "common-mistakes",
  "documentation": {
    "content": "## Get Configuration Value with Fail-Fast Error Handling using node-config\n\n```javascript\nconst config = require('config');\n\n// config/default.json:\n// {\n//   \"Customer\": {\n//     \"dbConfig\": {\n//       \"host\": \"localhost\",\n//       \"port\": 5984,\n//       \"dbName\": \"customers\"\n//     },\n//     \"credit\": {\n//       \"initialLimit\": 100,\n//       \"initialDays\": 30\n//     }\n//   }\n// }\n\ntry {\n  const dbHost = config.get('Customer.dbConfig.host');\n  console.log('Database host:', dbHost); // \"localhost\"\n\n  const creditLimit = config.get('Customer.credit.initialLimit');\n  console.log('Credit limit:', creditLimit); // 100\n\n  // This will throw an error - property doesn't exist\n  const invalidProp = config.get('Customer.nonexistent');\n} catch (error) {\n  console.error('Configuration error:', error.message);\n  // Configuration property \"Customer.nonexistent\" is not defined\n}\n```\n\n## Using Raw Values for Complex Objects in JavaScript (node-config)\n\n```javascript\nconst raw = require('config/raw').raw;\n\nmodule.exports = {\n  logOutputStream: raw(process.stdout)\n};\n```\n\n## Compare two objects for deep equality with node-config utilities\n\n```javascript\nvar customerCopy = config.util.cloneDeep(myCustomer);\nvar same = config.util.equalsDeep(myCustomer, customerCopy); // <-- true\ncustomerCopy.creditLimit = 7000;\nvar same = config.util.equalsDeep(myCustomer, customerCopy); // <-- false\n```\n\n## Checking Configuration Existence with config.has() in Node.js\n\n```javascript\nvar config = require('config');\n\nif (config.has('Customer.dbConfig')) {\n   // Access or use dbConfig properties here\n   console.log('Customer.dbConfig exists.');\n} else {\n   console.log('Customer.dbConfig does not exist.');\n}\n```\n\n## Accessing Configuration Values with get()\n\n```javascript\nvar dbHost = config.get('dbConfig.host');\n```\n\n## Make Configuration Immutable (JavaScript)\n\n```javascript\nconst config = require('config');\n\nconst mySettings = {\n  apiKey: 'secret123',\n  timeout: 5000,\n  retries: 3\n};\n\n// Make the entire object immutable\nconfig.util.makeImmutable(mySettings);\n\ntry {\n  mySettings.apiKey = 'newkey'; // This will throw an error\n} catch (error) {\n  console.error(error.message);\n  // Can not update runtime configuration property: \"apiKey\"\n}\n\n// Make specific properties immutable\nconst otherSettings = { host: 'localhost', port: 3000 };\nconfig.util.makeImmutable(otherSettings, 'host');\notherSettings.port = 8080; // OK\n// otherSettings.host = 'newhost'; // Would throw error\n```\n\n## Testing for Configuration Value Existence with has()\n\n```javascript\nif (config.has('dbConfig')) {\n  ...\n}\n```\n\n## Check Configuration Property Existence with node-config\n\n```javascript\nconst config = require('config');\n\n// Check for optional features\nif (config.has('optionalFeature.detail')) {\n  const detail = config.get('optionalFeature.detail');\n  console.log('Optional feature enabled:', detail);\n} else {\n  console.log('Optional feature not configured');\n}\n\n// Check nested properties\nif (config.has('Customer.dbConfig.host')) {\n  const dbHost = config.get('Customer.dbConfig.host');\n  console.log('Database host:', dbHost);\n}\n\n// Safe null/undefined parameter handling\nconsole.log(config.has(null)); // false\nconsole.log(config.has(undefined)); // false\n```\n\n## makeHidden API\n\n```APIDOC\n## makeHidden(object, propertyName, propertyValue)\n\n### Description\nMake an object property hidden so it doesn't appear when enumerating elements of the object.\n\nThe property still exists and can be read from and written to, but it won't show up in `for ... in` loops, `Object.keys()`, or `JSON.stringify()` type methods.\n\n### Method\n`makeHidden`\n\n### Parameters\n#### Path Parameters\n- **object** (object) - Required - The object containing the property to make hidden\n- **propertyName** (string) - Required - Name of the property to make hidden\n- **propertyValue** (string) - Optional - Set the property to this value\n\n#### Return Value\n- **object** (object) - The original object, with the newly hidden property\n\n### Request Example\n```javascript\nvar a = {hello:'world'};\nconsole.log ('Before hiding: ' + JSON.stringify(a));\nconfig.util.makeHidden(a, 'hello');\nconsole.log ('After hiding: ' + JSON.stringify(a));\nconsole.log ('Hidden, but still there: ' + a.hello);\n```\n```\n\n## Accessing Configuration Values with config.get() in Node.js\n\n```javascript\nvar config = require('config');\n\n// Direct property access (like prior versions, no validation)\nvar customerDbHostLegacy = config.Customer.dbConfig.host;\n\n// Preferred method with nested .get() calls (wordy but validates)\nvar customerDbHostNested = config.get('Customer').get('dbConfig').get('host');\n\n// Preferred method with dot notation string (concise and validates)\nvar customerDbHostDotNotation = config.get('Customer.dbConfig.host');\n```\n",
    "library": "config",
    "topic": "common-mistakes",
    "source": "api"
  },
  "source": "api",
  "saved_at": "2026-01-30T09:59:53.925349"
}