{
  "library": "agent_handlers",
  "topic": "best-practices",
  "documentation": {
    "content": "## Configure Website Profile with Detections\n\n```json\n[\n  {\n    \"url\": \"https://example.ccc/p/{username}\",\n    \"detections\": [\n      {\n        \"return\": \"false\",\n        \"string\": \"page not found\",\n        \"type\": \"normal\"\n      },\n      {\n        \"return\": \"true\",\n        \"string\": \"your name is:\",\n        \"type\": \"normal\"\n      }\n    ],\n    \"selected\": \"false\",\n    \"timeout\": 0,\n    \"implicit\": 0,\n    \"type\": \"other\"\n  }\n]\n```\n\n## Backend API - Save Settings\n\n```APIDOC\n## PUT /api/settings\n\n### Description\nSaves new configuration settings for the social-analyzer backend. This endpoint allows you to update various parameters that control the analyzer's behavior.\n\n### Method\nPUT\n\n### Endpoint\n/api/settings\n\n### Parameters\n#### Request Body\n- **settings** (object) - Required - An object containing the new settings to be applied. This can include parameters like `timeout`, `max_retries`, etc.\n\n### Request Example\n```json\n{\n  \"settings\": {\n    \"timeout\": 10000,\n    \"max_retries\": 5\n  }\n}\n```\n\n### Response\n#### Success Response (200)\n- **message** (string) - A confirmation message indicating that settings have been saved successfully.\n\n#### Response Example\n```json\n{\n  \"message\": \"Settings saved successfully.\"\n}\n```\n```\n\n## Social Analyzer: Detection Rule Example\n\n```json\n\"detections\": [\n    {\n      \"return\": \"false\",\n      \"string\": \"page not found\",\n      \"type\": \"\"\n    }\n]\n```\n\n## Integrate Social Analyzer as Python Object (Specific Websites, Metadata, Extraction)\n\n```python\nfrom importlib import import_module\nSocialAnalyzer = import_module(\"social-analyzer\").SocialAnalyzer(silent=True)\nresults = SocialAnalyzer.run_as_object(username=\"johndoe\", websites=\"youtube pinterest tumblr\", metadata=True, extract=True, silent=True)\nprint(results)\n```\n\n## Social Analyzer: Non-English Detection Configuration\n\n```json\n[\n  {\n    \"url\": \"https://example.ccc/p/{username}\",\n    \"detections\": [\n      {\n        \"return\": \"false\",\n        \"string\": \"\uc624\ub958\",\n        \"type\": \"normal\"\n      },\n      {\n        \"return\": \"true\",\n        \"string\": \"\ud504\ub85c\ud544\",\n        \"type\": \"normal\"\n      }\n    ],\n    \"selected\": \"false\",\n    \"timeout\": 0,\n    \"implicit\": 0,\n    \"type\": \"other\"\n  }\n]\n```\n\n## Backend API - Get Settings\n\n```APIDOC\n## GET /api/settings\n\n### Description\nRetrieves the current configuration settings for the social-analyzer backend.\n\n### Method\nGET\n\n### Endpoint\n/api/settings\n\n### Parameters\nNone\n\n### Request Example\nNone\n\n### Response\n#### Success Response (200)\n- **settings** (object) - An object containing various configuration settings.\n\n#### Response Example\n```json\n{\n  \"settings\": {\n    \"timeout\": 5000,\n    \"max_retries\": 3\n  }\n}\n```\n```\n\n## Deploy Social Analyzer using Docker Compose\n\n```bash\n# Install updates, docker-compose and project\nsudo apt-get update\nsudo apt-get install -y docker.io git curl\nsudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\nsudo chmod +x /usr/local/bin/docker-compose\ngit clone https://github.com/qeeqbox/social-analyzer.git\ncd social-analyzer\n\n# Default deployment (2 CPU cores)\ndocker-compose -f docker-compose.yml up --build\n\n# Deploy and use all available CPU cores\necho \"CPU_CORES=`nproc`\" > .env ; docker-compose -f docker-compose.yml up --build\n\n# Deploy and use only some CPU cores (if more than 4)\necho \"CPU_CORES=4\" > .env ; docker-compose -f docker-compose.yml up --build\n```\n\n## Manage Settings Modal (JavaScript)\n\n```javascript\nasync function settings_modal(option) {\n  spinner_on_off(true);\n  if (option === 'get_settings') {\n    await $.ajax({\n      type: 'GET',\n      url: '/get_settings',\n    }).done((data) => {\n      if (data !== 'Error') {\n        if (data.websites.length > 0) {\n          current_settings = data;\n          let temp_tr = '';\n          data.websites.forEach((site) => {\n            let temp_selected = '';\n            if (site.selected === 'true') {\n              temp_selected = 'checked';\n            }\n            temp_tr += `<li><input type=\"checkbox\" name=url_${site.index} ${temp_selected}><label for=url_${site.index}>${site.url}</label></li>`;\n          });\n          $('#detection-options-list').html(temp_tr);\n        }\n        $('#user-agent-string').val(data.user_agent);\n        $('#google-api-key').val(data.google[0]);\n        $('#google-api-cs').val(data.google[1]);\n      }\n    });\n  } else if (option === 'save_settings') {\n    const temp_checked = []\n    $('#detection-options-list :checked').each(function() {\n      temp_checked.push(Number(this.name.substring('url_'.length)));\n    });\n    await $.ajax({\n      type: 'POST',\n      url: '/save_settings',\n      data: {\n        websites: temp_checked.join(','),\n        user_agent: $('#user-agent-string').val(),\n        proxy: $('#proxy-string').val(),\n        google_key: $('#google-api-key').val(),\n        google_cv: $('#google-api-cs').val(),\n      },\n    }).done((data) => {\n      if (data !== 'Error') {\n      }\n    });\n  }\n  spinner_on_off(false);\n}\n```\n\n## Initialize and Control Analysis Options (JavaScript)\n\n```javascript\nsetup_selectable('#analyzed-options');\n$('#analyze-normal').click((e) => {\n  e.preventDefault();\n  analyze_string();\n});\n$('.generate').click((e) => {\n  e.preventDefault();\n  // generate_combinations('Generate');\n});\n$('#reset-everything').click((e) => {\n  e.preventDefault();\n  reset_everything();\n});\n$('#save-settings').click((e) => {\n  e.preventDefault();\n  settings_modal('save_settings');\n  $('#settings-modal').modal('toggle');\n});\n$('#open-settings').click((e) => {\n  e.preventDefault();\n  settings_modal('get_settings');\n  $('#settings-modal').modal();\n});\n$('#clear-options').click((e) => {\n  e.preventDefault();\n  $('#analyzed-options')[0].selectize.clear();\n});\n$('#fast-options').click((e) => {\n  e.preventDefault();\n  $('#analyzed-options')[0].selectize.clear();\n  $('#analyzed-options')[0].selectize.setValue([\n    'WordInfo',\n    'MostCommon',\n    'FindOrigins',\n    'LookUps',\n    'CustomSearch',\n    'FindUserProfilesFast,GetUserProfilesFast',\n    'ExtractMetadata',\n    'ExtractPatterns',\n    'NetworkGraph',\n    'FindNumbers',\n    'CategoriesStats',\n    'MetadataStats',\n    'FindAges',\n    'FindSymbols',\n    'SplitWordsByAlphabet',\n    'SplitWordsByUpperCase',\n  ]);\n});\n$('#download-json').click((e) => {\n  e.preventDefault();\n  save_to_file_as(output_json);\n});\n$('#cancel_task').click((e) => {\n  e.preventDefault();\n  if (global_uuid !== '') {\n    cancel_task(global_uuid);\n  }\n});\n```\n\n## Enhance Website Profile with Parameterized Detections\n\n```json\n[\n  {\n    \"url\": \"https://example.ccc/p/{username}\",\n    \"detections\": [\n      {\n        \"return\": \"false\",\n        \"string\": \"page not found\",\n        \"type\": \"normal\"\n      },\n      {\n        \"return\": \"true\",\n        \"string\": \"your name is: {username}\",\n        \"type\": \"normal\"\n      }\n    ],\n    \"selected\": \"false\",\n    \"timeout\": 0,\n    \"implicit\": 0,\n    \"type\": \"other\"\n  }\n]\n```",
    "library": "usage_analyzer",
    "topic": "best-practices",
    "source": "fuzzy_match"
  },
  "source": "fuzzy_match",
  "saved_at": "2026-01-30T16:09:31.206444"
}