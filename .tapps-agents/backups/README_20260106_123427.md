# TappsCodingAgents

[![Python 3.13+](https://img.shields.io/badge/python-3.13+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-production--ready-brightgreen.svg)](README.md)
[![Version](https://img.shields.io/badge/version-3.2.9-blue.svg)](CHANGELOG.md)

**A specification framework for defining, configuring, and orchestrating coding agents.**

## ‚ö†Ô∏è Critical Accuracy Requirement

**ALL AGENTS AND SKILLS MUST ADHERE TO 100% ACCURACY:**

- **NEVER make up, invent, or fabricate information** - Only report verified facts
- **ALWAYS verify claims** - Check actual results, not just test pass/fail status
- **Verify API calls succeed** - Don't assume success from error handling
- **Check actual data** - Inspect return values, response codes, and error messages
- **Admit uncertainty** - If you don't know or can't verify, say so explicitly
- **Distinguish between code paths and actual results** - Tests passing ‚â† functionality working

**When reporting results:**
- ‚úÖ **DO**: "Test passed, but API call failed with connection error"
- ‚ùå **DON'T**: "All tests passed - API key verified and working"

**When making claims:**
- ‚úÖ **DO**: Verify the actual outcome, inspect response data, check error messages
- ‚ùå **DON'T**: Assume success from test framework output or error handling

Accuracy and honesty are non-negotiable. When in doubt, verify before claiming.

## Overview

TappsCodingAgents provides a standardized framework for building AI coding agents with:

> **Note**: This project both **develops** the TappsCodingAgents framework AND **uses** it for its own development (self-hosting). See [Project Context](docs/PROJECT_CONTEXT.md) for details.

### ‚ö†Ô∏è Framework Development Guidelines

**When modifying the TappsCodingAgents framework itself**, you **MUST** use Simple Mode Full SDLC workflow:

```bash
# CLI
tapps-agents simple-mode full --prompt "Implement [enhancement description]" --auto

# Or in Cursor chat
@simple-mode *full "Implement [enhancement description]"
```

**Why?** The full SDLC workflow ensures:
- ‚úÖ Requirements analysis (analyst)
- ‚úÖ Architecture design (architect) 
- ‚úÖ Quality gates with automatic loopbacks (‚â•75 score)
- ‚úÖ Test generation and execution (tester)
- ‚úÖ Security validation (ops)
- ‚úÖ Complete documentation (documenter)
- ‚úÖ Full traceability (requirements ‚Üí stories ‚Üí architecture ‚Üí implementation)

**DO NOT:**
- ‚ùå Directly implement code without using the workflow
- ‚ùå Skip planning, design, or architecture phases
- ‚ùå Validate only afterward (use quality gates during development)

See [Framework Development Workflow](docs/FRAMEWORK_DEVELOPMENT_WORKFLOW.md) for complete guidelines.

- **Workflow Agents** (60): Complete SDLC task execution including Analyst, Planner, Architect, Designer, Implementer, Tester, Debugger, Documenter, Reviewer, Improver, Ops, Orchestrator, Enhancer, and Evaluator
- **Industry Experts** (N): Business domain knowledge with weighted decision-making and RAG integration
- **Built-in Experts** (16): Framework-controlled technical domain experts (Security, Performance, Testing, Data Privacy, Accessibility, UX, Code Quality, Software Architecture, DevOps, Documentation, AI Frameworks, Observability, API Design, Cloud Infrastructure, Database, Agent Learning)
- **Expert Integration** (6 agents): Architect, Implementer, Reviewer, Tester, Designer, and Ops agents consult relevant experts for enhanced decision-making
- **Project Profiling System**: Automatic detection of project characteristics (deployment type, tenancy, user scale, compliance, security) for context-aware expert guidance
- **Confidence System**: Weighted confidence calculation with agent-specific thresholds and metrics tracking, including project context relevance
- **Cursor Skills Integration**: All 14 agents available as Cursor Skills with instruction-based execution
- **RAG Integration**: Retrieval-augmented generation for domain knowledge with simple file-based and vector-based RAG support
- **Fine-Tuning Support**: LoRA adapters for domain specialization (planned)
- **Cursor AI Integration** ‚úÖ: Complete integration with Cursor AI (all 7 phases complete)
  - **14 Cursor Skills** ‚úÖ (All agents available as Cursor Skills: analyst, architect, debugger, designer, documenter, enhancer, evaluator, implementer, improver, ops, orchestrator, planner, reviewer, tester)
  - **Simple Mode Skill** ‚úÖ (Natural language orchestration with 6 workflows: build, review, fix, test, epic, resume)
  - **Claude Desktop Commands** ‚úÖ (16 commands available in Claude Desktop - same functionality as Skills)
  - **Unified Experience** ‚úÖ (Commands and Skills work together - choose your interface)
  - **Custom Skills Support** ‚úÖ (Create, validate, and integrate custom Skills with template generation)
  - **Multi-Agent Orchestration** ‚úÖ (Parallel execution with structured concurrency via TaskGroup, conflict resolution, result aggregation)
  - **Context7 Integration** ‚úÖ (KB-first caching, analytics dashboard, cross-reference resolution, cache warming, staleness policies)
  - **MCP Gateway** ‚úÖ (Unified Model Context Protocol interface with 5 servers: Context7, Playwright, Filesystem, Git, Analysis)
  - **NUC Optimization** ‚úÖ (Resource monitoring, fallback strategy, hardware profiling)
  - **Governance & Safety Layer** ‚úÖ (Secrets/PII filtering, prompt injection handling, approval workflow, knowledge ingestion safety)
  - **2025 Optimizations** ‚úÖ (TaskGroup migration, context managers, adaptive polling - 30-50% performance improvements)
- **User Role Templates** ‚úÖ: Role-specific agent customization (senior-dev, junior-dev, tech-lead, PM, QA)
  - Customize agent behavior based on user role
  - 5 built-in role templates with sensible defaults
  - Fully customizable and extensible
- **Simple Mode** ‚úÖ: Streamlined natural language interface with 6 orchestrators
  - **Build Orchestrator**: Complete feature development (enhancer ‚Üí planner ‚Üí architect ‚Üí designer ‚Üí implementer ‚Üí reviewer ‚Üí tester ‚Üí documenter)
  - **Review Orchestrator**: Code quality review with improvement suggestions
  - **Fix Orchestrator**: Systematic bug fixing with debugging and verification
  - **Test Orchestrator**: Test generation and execution
  - **Epic Orchestrator**: Execute Epic documents with story dependency resolution
  - **Resume Orchestrator**: Resume interrupted workflows
- **Workflow Presets** (11): Predefined YAML workflows (rapid-dev, full-sdlc, maintenance, quality, quick-fix, feature-implementation, brownfield-analysis, simple-new-feature, simple-full, simple-improve-quality, simple-fix-issues)
- **YAML-First Architecture** ‚úÖ: YAML as single source of truth with strict schema enforcement
  - **Auto-Generated Artifacts**: Task manifests, Cursor Rules docs
  - **Dependency-Based Parallelism**: Automatic parallel execution based on step dependencies
  - **State Persistence**: Advanced workflow state management with checkpointing, migration, versioning
- **Prompt Enhancement Utility** ‚úÖ: 7-stage enhancement pipeline (analysis, requirements, architecture, codebase, quality, strategy, synthesis)
- **Project Profiling**: Automatic detection of project characteristics for context-aware expert advice
- **Analytics Dashboard** ‚úÖ: Performance metrics, historical trends, agent/workflow statistics, system status
- **Health Monitoring** ‚úÖ: System health checks, resource usage tracking, health trends
- **State Management** ‚úÖ: Workflow state persistence, resume, cleanup, branch management

### How it works (no confusion version)

- **Cursor is the LLM runtime**: Skills use the developer's configured model in Cursor (Auto or pinned).
- **This framework is the tooling layer**: workflows, quality tools, reporting, worktrees, caching.
- **Cursor-native execution**: All LLM operations are handled by Cursor via Skills. No local LLM required.

See:
- `docs/HOW_IT_WORKS.md`
- `docs/CURRENT_DEFAULTS.md`
- `docs/PR_MODE_GUIDE.md`

### üöÄ Cursor Quick Start (5 minutes)

If you're using **Cursor IDE**, get started quickly:

1. **Install the framework:**
   ```bash
   pip install -e .
   ```

2. **Initialize Cursor integration:**
   ```bash
   # If 'tapps-agents' command not found, use module invocation:
   python -m tapps_agents.cli init
   
   # OR if entry point is working:
   tapps-agents init
   ```
   This installs:
   - ‚úÖ **Cursor Skills** (`.claude/skills/`) - Use `@agent *command` in Cursor IDE
   - ‚úÖ **Claude Desktop Commands** (`.claude/commands/`) - Use `@command` in Claude Desktop
   - ‚úÖ **Cursor Rules** (`.cursor/rules/`)
   
   **Note:** If you get "command not found" error, use `python -m tapps_agents.cli` instead of `tapps-agents`. See [Troubleshooting Guide](docs/TROUBLESHOOTING_CLI_INSTALLATION.md) for details.

3. **Try it in Cursor IDE:**
   - Open Cursor chat
   - Type: `@reviewer *help`
   - Type: `@implementer *help`
   - Type: `@tester *help`
   - Type: `@evaluator *help`

4. **Or use Claude Desktop:**
   - Type: `@review src/api/auth.py`
   - Type: `@build "Create a user authentication feature"`
   - Type: `@test src/api/auth.py`


### üé¨ Try the Demo (5 minutes)

**Want to see it in action?** Run our interactive demo:

```bash
# Run the automated demo script
python demo/run_demo.py

# Or follow the quick start guide
cat demo/DEMO_QUICK_START.md
```

The demo showcases:
- ‚úÖ Code scoring with objective metrics
- ‚úÖ Code review with detailed feedback
- ‚úÖ Quality tools (linting, type checking)
- ‚úÖ Code generation workflows

See [Demo Plan](docs/DEMO_PLAN.md) for complete demo scenarios and instructions.

### üéØ Simple Mode (New Users)

**New to TappsCodingAgents?** Try **Simple Mode** - a streamlined, task-first interface that hides complexity while showcasing the power of the framework:

1. **Initialize project** (first time setup):
   ```bash
   # If 'tapps-agents' command not found, use:
   python -m tapps_agents.cli init
   
   # OR if entry point is working:
   tapps-agents init
   ```
   This sets up configuration, Cursor Rules, workflow presets, Skills, and Claude Desktop Commands.

2. **Enable Simple Mode:**
   ```bash
   tapps-agents simple-mode on
   ```

3. **Run the onboarding wizard** (optional, recommended for new users):
   ```bash
   tapps-agents simple-mode init
   ```

4. **Use Simple Mode in Cursor chat:**
   
   Open Cursor chat and use natural language commands with `@simple-mode`:
   ```
   @simple-mode Build a user authentication module
   @simple-mode Review my authentication code
   @simple-mode Fix the error in auth.py
   @simple-mode Add tests for service.py
   @simple-mode *epic docs/prd/epic-51-yaml-automation-quality-enhancement.md
   ```
   
   Simple Mode automatically detects your intent and orchestrates the right agents.

**Note:** Simple Mode natural language commands work in Cursor chat (via `@simple-mode` skill). CLI management commands (`on`, `off`, `status`, `init`) are available for configuration.

**Simple Mode Features:**
- ‚úÖ **Task-first interface** - Focus on what you want to achieve
- ‚úÖ **Natural language commands** - Use plain English
- ‚úÖ **Guided onboarding** - Interactive wizard for new users
- ‚úÖ **Zero-config mode** - Smart defaults with auto-detection
- ‚úÖ **Learning progression** - Unlock advanced features as you learn
- ‚úÖ **Friendly error handling** - Clear messages with recovery suggestions

**Full Documentation:**
- [Simple Mode Guide](docs/SIMPLE_MODE_GUIDE.md) - Complete Simple Mode documentation
- [Cursor Skills Installation Guide](docs/CURSOR_SKILLS_INSTALLATION_GUIDE.md)
- [Cursor Rules Setup Guide](docs/CURSOR_RULES_SETUP.md)
- [Cursor Integration Review](CURSOR_INTEGRATION_REVIEW.md) - Comprehensive integration status

### Enhanced Features (v1.6.0+)

- **Code Scoring System**: Objective quality metrics (complexity, security, maintainability)
- **Tiered Context Injection**: 90%+ token savings with intelligent caching
- **MCP Gateway**: Unified Model Context Protocol interface for tool access
  - **Context7 MCP Server**: Library documentation lookup (required, auto-configured)
  - **Playwright MCP Server**: Browser automation for E2E testing (optional, auto-detected)
- **YAML Workflow Definitions**: Declarative, version-controlled orchestration with strict schema enforcement
- **Greenfield/Brownfield Workflows**: Context-appropriate workflows for project types
- **YAML-First Architecture** ‚úÖ (Epics 6-10 Complete):
  - **Strict Schema Enforcement** (Epic 6): All YAML structures validated and executed, no "YAML theater"
  - **Task Manifest Generation** (Epic 7): Auto-generated task checklists from workflow YAML + state
  - **Automated Documentation** (Epic 8): Cursor Rules auto-generated from workflow YAML
  - **Documentation Alignment** (Epic 10): All documentation aligned with YAML-first architecture
- **Cursor AI Integration**: Complete 7-phase integration with Cursor AI
  - Cursor Skills for all 13 agents
  - Multi-agent orchestration
  - Context7 KB-first caching
  - NUC optimization for low-power hardware

## Current Status (January 2026)

üéâ **YAML-FIRST ARCHITECTURE COMPLETE** üéâ (Epics 6-10)

‚úÖ **YAML Schema Enforcement & Generated Artifacts** (Epics 6-10, January 2025)
- **Epic 6: YAML Schema Enforcement** ‚úÖ - Strict schema validation, removed `parallel_tasks`, eliminated "YAML theater"
- **Epic 7: Task Manifest Generation** ‚úÖ - Auto-generated task checklists from workflow YAML + state
- **Epic 8: Automated Documentation Generation** ‚úÖ - Cursor Rules auto-generated from workflow YAML
- **Epic 10: Documentation Cleanup & Alignment** ‚úÖ - All documentation aligned with YAML-first architecture
- **YAML is now the single source of truth** - All derived artifacts (manifests, docs, configs) are auto-generated
- See [YAML Workflow Architecture Design](docs/YAML_WORKFLOW_ARCHITECTURE_DESIGN.md) for details

üéâ **PHASE 5 EXPERT FRAMEWORK ENHANCEMENT COMPLETE** üéâ

‚úÖ **Phase 5: Expert Framework Enhancement - High Priority Experts**
- **4 New Built-in Experts** ‚úÖ (Observability, API Design, Cloud Infrastructure, Database)
- **32 New Knowledge Files** ‚úÖ (~120,000+ words of expert knowledge)
- **Enhanced Agent Support** ‚úÖ (Updated expert consultation for Architect, Implementer, Designer, Ops, Reviewer, Tester agents)
- **Total Built-in Experts: 16** (Security, Performance, Testing, Data Privacy, Accessibility, UX, Code Quality, Software Architecture, DevOps, Documentation, AI Frameworks, Observability, API Design, Cloud Infrastructure, Database, Agent Learning)
- **Total Knowledge Files: 100** (across 13 knowledge domains: security, performance, testing, data-privacy-compliance, accessibility, user-experience, observability-monitoring, api-design-integration, cloud-infrastructure, database-data-management, agent-learning, ai-frameworks, software-architecture)
- See [Built-in Experts Guide](docs/BUILTIN_EXPERTS_GUIDE.md) and [Phase 5 Implementation Plan](implementation/PHASE5_EXPERT_IMPLEMENTATION_PLAN.md)

üéâ **ALL 7 PHASES COMPLETE - Cursor AI Integration Plan 2025** üéâ

üéâ **JANUARY 2026 ENHANCEMENTS COMPLETE** üéâ

‚úÖ **P2 Medium Priority Enhancements - All Complete**
- **Project Profiling System** ‚úÖ (Auto-detection of project characteristics for context-aware expert guidance)
- **Modernize Project Configuration** ‚úÖ (Migrated to pyproject.toml with build system)
- **Advanced Workflow State Persistence** ‚úÖ (State validation, migration, versioning, enhanced recovery)
- **State Persistence Configuration** ‚úÖ (Configurable checkpoint frequency, cleanup policies, runtime reload)
- **Advanced Analytics Dashboard** ‚úÖ (Performance metrics, historical trends, CLI commands)
- **Custom Skills Support** ‚úÖ (Create, validate, and integrate custom Skills)
- **Governance & Safety Layer** ‚úÖ (Secrets/PII filtering, prompt injection handling, approval workflow)

‚úÖ **P3 Low Priority Enhancements - Critical Items Complete**
- **Error Handling Improvements** ‚úÖ (Custom exception types, improved error messages)
- **Configuration Management Improvements** ‚úÖ (All expert thresholds moved to configuration)
- **Documentation Alignment** ‚úÖ (Updated version numbers, marked historical docs)

‚úÖ **Phase 7 Complete - NUC Optimization**
- **Resource Monitoring** ‚úÖ (CPU, memory, disk usage tracking with alerts)
- **Performance Benchmarks** ‚úÖ (Before/after optimization comparisons)
- **NUC Configuration** ‚úÖ (Optimized settings for low-power hardware)
- See [NUC Setup Guide](docs/NUC_SETUP_GUIDE.md) and [Phase 7 Summary](implementation/PHASE7_NUC_OPTIMIZATION_COMPLETE.md)

‚úÖ **Phase 6 Complete - Context7 Optimization + Security**
- **Security Audit Tools** ‚úÖ (SecurityAuditor, APIKeyManager for SOC 2 compliance)
- **KB Usage Analytics** ‚úÖ (Tracking, dashboard, performance metrics)
- **Cross-Reference Resolution** ‚úÖ (Automatic linking of related documentation)
- **Cache Pre-population** ‚úÖ (Dependency-based warming)
- See [Context7 Security & Privacy](docs/CONTEXT7_SECURITY_PRIVACY.md) and [Phase 6 Summary](implementation/PHASE6_CONTEXT7_OPTIMIZATION_SECURITY_COMPLETE.md)

‚úÖ **Phase 5 Complete - Multi-Agent Orchestration**
- **Parallel Agent Execution** ‚úÖ (Multi-agent workflows with conflict resolution)
- **Git Worktree Management** ‚úÖ (Isolated agent changes, no conflicts)
- **Result Aggregation** ‚úÖ (Collecting and summarizing multi-agent outputs)
- **Performance Monitoring** ‚úÖ (Speedup tracking, efficiency metrics)
- See [Multi-Agent Orchestration Guide](docs/MULTI_AGENT_ORCHESTRATION_GUIDE.md) and [Phase 5 Summary](implementation/PHASE5_MULTI_AGENT_ORCHESTRATION_COMPLETE.md)


‚úÖ **Phase 3 Complete - Remaining Agents + Advanced Features**
- **All 13 Cursor Skills** ‚úÖ (Analyst, Planner, Architect, Designer, Implementer, Tester, Debugger, Documenter, Reviewer, Improver, Ops, Orchestrator, Enhancer)
- **Context7 Integration** ‚úÖ (KB-first caching for library documentation)
- **Playwright MCP Integration** ‚úÖ (Browser automation detection and awareness for E2E testing)
- **Industry Experts** ‚úÖ (Domain expert consultation framework)
- **YAML Workflows** ‚úÖ (Declarative multi-step task definitions)
- **Tiered Context System** ‚úÖ (90%+ token savings)
- **MCP Gateway** ‚úÖ (Unified tool access)
  - **Context7 MCP**: Library documentation (required)
  - **Playwright MCP**: Browser automation (optional, auto-detected)
- See [Cursor Skills Installation Guide](docs/CURSOR_SKILLS_INSTALLATION_GUIDE.md) and [Phase 3 Summary](implementation/PHASE3_REMAINING_AGENTS_COMPLETE.md)

‚úÖ **Phase 2 Complete - Quality Tools Integration**
- **Ruff Integration** ‚úÖ (10-100x faster Python linting, 2025 standard)
- **mypy Type Checking** ‚úÖ (Static type analysis, 2025 standard)
- **Comprehensive Reporting** ‚úÖ (JSON, Markdown, HTML with historical tracking)
- **TypeScript & JavaScript Support** ‚úÖ (ESLint, TypeScript compiler integration)
- **Multi-Service Analysis** ‚úÖ (Batch analysis with service-level aggregation)
- **Dependency Security Auditing** ‚úÖ (pip-audit, pipdeptree integration)
- **Code Duplication Detection** ‚úÖ (jscpd for Python and TypeScript)
- See [Quality Tools Usage Examples](docs/QUALITY_TOOLS_USAGE_EXAMPLES.md) and [Phase 2 Summary](implementation/PHASE2_QUALITY_TOOLS_COMPLETE.md)

‚úÖ **Phase 1 Complete - Core Agents to Skills**
- **4 Core Cursor Skills** ‚úÖ (Reviewer, Implementer, Tester, Debugger)
- **Context7 Integration** ‚úÖ (KB-first caching)
- **Cache Pre-population** ‚úÖ (Common libraries pre-loaded)
- See [Cursor Skills Installation Guide](docs/CURSOR_SKILLS_INSTALLATION_GUIDE.md) and [Phase 1 Summary](implementation/PHASE1_CURSOR_SKILLS_COMPLETE.md)

‚úÖ **Core Framework Complete:**
- **All 14 Workflow Agents** ‚úÖ (analyst, planner, architect, designer, implementer, tester, debugger, documenter, reviewer, improver, ops, orchestrator, enhancer, evaluator)
- **Complete Code Scoring System** ‚úÖ (5/5 metrics: complexity, security, maintainability, test_coverage, performance)
- **Instruction-Based Architecture** ‚úÖ - Agents prepare structured instructions for Cursor Skills execution
- **Tiered Context System** ‚úÖ (90%+ token savings, 3 tiers with caching)
- **Unified Cache Architecture** ‚úÖ (Single interface for all caching systems with hardware auto-detection)
- **MCP Gateway** ‚úÖ (Unified tool access with 5 servers: Context7, Playwright, Filesystem, Git, Analysis)
  - **MCP Server Detection**: Automatic detection of Context7 and Playwright MCP servers
  - **Setup Instructions**: Auto-generated setup instructions when MCP servers are missing
  - **Status Reporting**: `tapps-agents doctor` reports MCP server configuration status
- **YAML Workflow Definitions** ‚úÖ (Parser, executor, artifact tracking, conditional steps, gates)
  - **YAML-First Architecture** ‚úÖ (Epics 6-10): YAML as single source of truth with strict schema enforcement
  - **Auto-Generated Artifacts** ‚úÖ: Task manifests, Cursor Rules docs
  - **Dependency-Based Parallelism**: Automatic parallel execution based on step dependencies (no `parallel_tasks`)
  - **11 Workflow Presets**: rapid-dev, full-sdlc, maintenance, quality, quick-fix, feature-implementation, brownfield-analysis, simple-new-feature, simple-full, simple-improve-quality, simple-fix-issues
- **Industry Experts Framework** ‚úÖ (Weighted decision-making, domain configuration, expert registry)
  - **16 Built-in Experts**: Security, Performance, Testing, Data Privacy, Accessibility, UX, Code Quality, Software Architecture, DevOps, Documentation, AI Frameworks, Observability, API Design, Cloud Infrastructure, Database, Agent Learning
  - **100+ Knowledge Files**: Across 13 knowledge domains
  - **Configuration-Only Experts**: YAML-based expert definition, no code classes required
  - **RAG Integration**: Simple file-based and vector-based RAG for knowledge retrieval
- **Simple Mode** ‚úÖ (6 orchestrators: build, review, fix, test, epic, resume)
- **Scale-Adaptive Workflow Selection** ‚úÖ (Project type auto-detection, workflow recommendation)
- **State Management** ‚úÖ (Advanced workflow state persistence with checkpointing, migration, versioning, resume)
- **Analytics & Health** ‚úÖ (Performance metrics, trends, system health monitoring, resource usage tracking)
- **Governance & Safety** ‚úÖ (Secrets/PII filtering, approval workflows, knowledge ingestion safety)
- **Comprehensive test suite** ‚úÖ (1200+ unit tests, integration tests, and E2E tests with parallel execution support - see `tests/`)

‚úÖ **Enhancer Agent - Prompt Enhancement Utility (v1.6.0)**
- **7-Stage Enhancement Pipeline** - Transforms simple prompts into comprehensive, context-aware prompts
- **Industry Expert Integration** - Automatic domain detection and weighted expert consultation
- **Multiple Usage Modes** - Full enhancement, quick enhancement, stage-by-stage execution
- **Session Management** - Resume interrupted enhancements
- **Multiple Output Formats** - Markdown, JSON, YAML
- See [Enhancer Agent Guide](docs/ENHANCER_AGENT.md) for details

üéâ **All Core Framework Features Complete!**

‚úÖ **January 2026 Critical Features Complete:**
- **Custom Skills Support** ‚úÖ - Create, validate, and integrate custom Skills
- **State Persistence Configuration** ‚úÖ - Configurable checkpointing and cleanup policies
- **Governance & Safety Layer** ‚úÖ - Security and safety controls for knowledge ingestion
- **Epic 20: Complexity Reduction** ‚úÖ - Refactored high-complexity functions (122‚ÜíC, 114‚ÜíC, 66‚ÜíC, 60‚ÜíC, 64‚ÜíA/B)
  - Agent handler extraction using Strategy Pattern
  - Workflow execution control flow simplification
  - Zero code duplication between execution paths
  - See [Complexity Reduction Summary](docs/COMPLEXITY_REDUCTION_EPIC_20.md)

## Upcoming Enhancements (Planned)

### SDLC Quality Engine Improvements

The framework is being enhanced to transform the SDLC from a linear pipeline with score-only gates into a **self-correcting quality engine** that achieves "zero issues" consistently across any codebase.

**Key Improvements:**
- **Pluggable Validation Layer**: Stack-agnostic validation that adapts to detected project profile and repository signals
- **Comprehensive Verification**: Expansion of "testing" into verification bundle (tests + linters + config checks + security scans + artifact integrity)
- **Standardized Issues Manifest**: Machine-actionable issue schema (id, severity, category, evidence, repro, suggested_fix, owner_step) for deterministic remediation
- **Composite Gating Model**: Gates evaluate issues + verification outcomes, not just numeric scores
  - Hard fail conditions: critical issues, verification failures, missing artifacts
  - Soft fail/loopback conditions: high issues above threshold, regression vs baseline, low expert confidence
- **Bounded Loopback Protocol**: Deterministic remediation with structured fix plans, re-validation, and bounded retries
- **Traceability Matrix**: Lightweight requirements ‚Üí stories ‚Üí validations mapping for completeness verification

**Status**: Design phase - See [SDLC Improvements Analysis](SDLC_ISSUES_AND_IMPROVEMENTS_ANALYSIS.md) and [Epic 1: SDLC Quality Engine](docs/prd/epic-1-sdlc-quality-engine.md)

### Dynamic Expert & RAG Engine

An always-on **Dynamic Knowledge/Expert Orchestrator** that automatically detects project domains, creates and curates experts/knowledge for the current project, and continuously enriches agents with the best available, project-relevant information.

**Key Features:**
- **Automatic Expert Creation**: Framework-controlled technical experts + project-controlled business/domain experts generated from repo signals
- **Knowledge Ingestion Pipeline**: Auto-fills RAG from project sources (requirements, architecture docs, ADRs), dependency sources (Context7 KB), and operational sources (CI failures, runtime exceptions)
- **Expert Engine Runtime**: Continuously detects what domain knowledge is needed, proactively consults the right experts, and populates knowledge stores as agents learn
- **Governance & Safety**: Do-not-index filters for secrets/PII, prompt-injection handling, retention & scope controls, optional human approval mode
- **Observability & Quality Improvement**: Metrics tracking (expert confidence, RAG quality, Context7 KB hit rate) with scheduled KB maintenance jobs

**Status**: Design phase - See [SDLC Improvements Analysis](SDLC_ISSUES_AND_IMPROVEMENTS_ANALYSIS.md) and [Epic 2: Dynamic Expert & RAG Engine](docs/prd/epic-2-dynamic-expert-rag-engine.md)

## Key Features

### Two-Layer Agent Model

| Layer | Type | Purpose | Count |
|-------|------|---------|-------|
| **Knowledge** | Industry Experts | Business domain authority | N (per project) |
| **Execution** | Workflow Agents | SDLC task execution | 14 (fixed) |

### Workflow Agents (14)

- **Planning**: 
  - **analyst** ‚úÖ - Requirements gathering, stakeholder analysis, tech research, effort estimation, risk assessment, competitive analysis
  - **planner** ‚úÖ - User story creation, task breakdown, story point estimation, acceptance criteria
- **Design**: 
  - **architect** ‚úÖ - System architecture design, design patterns, tech selection, security architecture, boundary definition, architecture diagrams
  - **designer** ‚úÖ - API design, data model design, UI/UX design, wireframes, design systems
- **Development**: 
  - **implementer** ‚úÖ - Code generation, refactoring, file writing with backup support
  - **debugger** ‚úÖ - Error analysis, stack trace analysis, code execution tracing, root cause identification
  - **documenter** ‚úÖ - API documentation, README generation, docstring generation, code documentation
- **Testing**: 
  - **tester** ‚úÖ - Test generation (unit, integration), test execution, coverage analysis
- **Quality**: 
  - **reviewer** ‚úÖ - Code review with 5-metric scoring (complexity, security, maintainability, test coverage, performance), linting (Ruff), type checking (mypy), duplication detection, security scanning, project analysis, service analysis
  - **improver** ‚úÖ - Code refactoring, performance optimization, quality improvement suggestions
- **Operations**: 
  - **ops** ‚úÖ - Security auditing, compliance checking (GDPR, HIPAA, PCI-DSS), dependency auditing, deployment planning
- **Orchestration**: 
  - **orchestrator** ‚úÖ - Workflow coordination, step sequencing, gate decisions, workflow state management
- **Enhancement**: 
  - **enhancer** ‚úÖ - 7-stage prompt enhancement pipeline (analysis, requirements, architecture, codebase, quality, strategy, synthesis), quick enhancement, stage-by-stage execution, session management
- **Evaluation**: 
  - **evaluator** ‚úÖ - Framework effectiveness analysis, workflow evaluation, improvement recommendations, usage pattern analysis

### Code Scoring System

The Reviewer Agent includes a comprehensive code scoring system with 5 objective metrics:

1. **Complexity Score** (0-10): Cyclomatic complexity analysis using Radon
2. **Security Score** (0-10): Vulnerability detection using Bandit + heuristics
3. **Maintainability Score** (0-10): Maintainability Index using Radon MI
4. **Test Coverage Score** (0-10): Coverage data parsing + heuristic analysis
5. **Performance Score** (0-10): Static analysis (function size, nesting depth, pattern detection)

All metrics are configurable with weighted scoring and quality thresholds.

### Industry Experts

- **Business Domain Experts** (N): Project-specific domain authorities (not technical specialists)
  - 1:1 mapping: N domains ‚Üí N experts
  - Weighted decision-making (Primary: 51%, Others: 49%/(N-1))
  - RAG integration (simple file-based and vector-based)
  - Fine-tuning support (LoRA adapters - planned)
  - Consult-based integration with 6 workflow agents (Architect, Implementer, Reviewer, Tester, Designer, Ops)
- **Built-in Technical Experts** (16): Framework-controlled domain experts
  - Security, Performance, Testing, Data Privacy, Accessibility, UX, Code Quality, Software Architecture, DevOps, Documentation, AI Frameworks, Observability, API Design, Cloud Infrastructure, Database, Agent Learning
  - 100+ knowledge files across 13 knowledge domains
  - Automatic domain detection and expert consultation
  - Project profiling for context-aware guidance
- **Expert Governance**: Secrets/PII filtering, prompt injection handling, approval workflows, knowledge ingestion safety

### CLI Commands

**Top-Level Commands:**
- `init` - Initialize project (Cursor Rules, Skills, config)
- `create <description>` - Create new project from natural language description
- `workflow <preset>` - Run workflow presets (rapid, full, fix, quality, hotfix, etc.)
- `score <file>` - Quick code quality scoring (shortcut for `reviewer score`)
- `doctor` - Environment diagnostics and validation
- `cursor verify` - Verify Cursor AI integration components
- `simple-mode <command>` - Simple Mode management (on, off, status, init, configure, progress, full, build, resume)
- `analytics <command>` - Analytics dashboard (dashboard, agents, workflows, trends, system)
- `health <command>` - Health monitoring (check, dashboard, metrics, trends)
- `governance <command>` - Governance controls (approval list, show, approve, reject)
- `customize <command>` - Agent customization (init)
- `skill <command>` - Custom Skills management (validate, template)
- `hardware-profile` - Hardware profile configuration (nuc, development, workstation, server, auto)
- `install-dev` - Install development tools (ruff, mypy, pytest, pip-audit, pipdeptree)
- `setup-experts` - Expert setup wizard (init, add, remove, list)
- `status` - Unified status (active worktrees, progress)
- `generate-rules` - Generate Cursor Rules from workflow YAML

**Agent Commands** (use `tapps-agents <agent> help` for details):
- `analyst` - Requirements gathering, stakeholder analysis, tech research, effort estimation, risk assessment
- `architect` - System design, architecture diagrams, tech selection, security architecture, boundary definition
- `debugger` - Error debugging, stack trace analysis, code tracing
- `designer` - API design, data models, UI/UX design, wireframes, design systems
- `documenter` - Generate documentation, update README, document APIs
- `enhancer` - Prompt enhancement (full, quick, stage-by-stage, resume)
- `evaluator` - Framework effectiveness evaluation, workflow evaluation
- `implementer` - Code generation, refactoring
- `improver` - Code refactoring, performance optimization
- `ops` - Security scanning, compliance checks, dependency auditing, deployment planning
- `orchestrator` - Workflow management, step coordination, gate decisions
- `planner` - Create plans, user stories, task breakdowns
- `reviewer` - Code review, scoring, linting, type checking, reports, duplication detection, security scanning, project/service analysis
- `tester` - Generate and run tests, test coverage

**Workflow State Management:**
- `workflow state list` - List workflow states
- `workflow state show <id>` - Show workflow state details
- `workflow state cleanup` - Cleanup old workflow states
- `workflow cleanup-branches` - Cleanup workflow worktree branches
- `workflow resume` - Resume interrupted workflow

**Simple Mode Workflows** (in Cursor chat with `@simple-mode`):
- `*build <description>` - Complete feature development workflow (8 steps)
- `*review <file>` - Code quality review with improvements
- `*fix <file> <description>` - Systematic bug fixing workflow
- `*test <file>` - Test generation and execution
- `*epic <epic-doc.md>` - Execute Epic documents with dependency resolution
- `*full <description>` - Full SDLC workflow (9 steps)

## Project Structure

```
TappsCodingAgents/
‚îú‚îÄ‚îÄ requirements/                  # Specification documents
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_REQUIREMENTS.md    # Main requirements document
‚îÇ   ‚îú‚îÄ‚îÄ agent_api.md               # Agent API specification
‚îÇ   ‚îú‚îÄ‚îÄ agents.md                  # Agent types specification
‚îÇ   ‚îú‚îÄ‚îÄ model_profiles.yaml        # Model configurations
‚îÇ   ‚îî‚îÄ‚îÄ template/                  # Templates and schemas
‚îÇ
‚îú‚îÄ‚îÄ tapps_agents/                  # Framework source code
‚îÇ   ‚îú‚îÄ‚îÄ agents/                    # All 14 workflow agents
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reviewer/             # Code review & scoring
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ implementer/          # Code generation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tester/               # Test generation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                   # 10 more agents
‚îÇ   ‚îú‚îÄ‚îÄ core/                     # Core framework components
‚îÇ   ‚îú‚îÄ‚îÄ context7/                 # Context7 KB integration
‚îÇ   ‚îú‚îÄ‚îÄ experts/                  # Industry experts framework
‚îÇ   ‚îú‚îÄ‚îÄ workflow/                 # Workflow engine
‚îÇ   ‚îî‚îÄ‚îÄ mcp/                      # MCP Gateway
‚îú‚îÄ‚îÄ agents/                        # Cursor Skills (legacy location)
‚îú‚îÄ‚îÄ workflows/                     # YAML workflow definitions
‚îú‚îÄ‚îÄ examples/                      # Example configurations
‚îú‚îÄ‚îÄ docs/                          # Comprehensive documentation
‚îú‚îÄ‚îÄ requirements/                 # Project specifications
‚îî‚îÄ‚îÄ tests/                         # Test suite
    ‚îú‚îÄ‚îÄ unit/                      # Unit tests (fast, isolated)
    ‚îú‚îÄ‚îÄ integration/               # Integration tests (with real services)
    ‚îî‚îÄ‚îÄ e2e/                       # End-to-end tests (see tests/e2e/README.md)
```

## Documentation

### Getting Started
- **[Quick Start Guide](docs/guides/QUICK_START.md)** - üöÄ Get started in 10 minutes
- **[Simple Mode Guide](docs/SIMPLE_MODE_GUIDE.md)** - üéØ Simple Mode for new users (task-first, natural language)
- **[Cursor AI Integration Plan 2025](docs/CURSOR_AI_INTEGRATION_PLAN_2025.md)** - Complete integration roadmap (all 7 phases complete)
- **[Cursor Skills Installation Guide](docs/CURSOR_SKILLS_INSTALLATION_GUIDE.md)** - Install and use Cursor Skills
- **[Documentation Index](docs/README.md)** - Complete documentation overview
- **[API Reference](docs/API.md)** - Python API and CLI documentation
- **[Enhancer Agent Guide](docs/ENHANCER_AGENT.md)** - Prompt enhancement utility documentation

### Complete Command Reference
- **Cursor Rules**: `.cursor/rules/command-reference.mdc` (installed by `tapps-agents init`) - **Complete command reference with all commands, subcommands, and parameters**
- **Quick Reference**: `.cursor/rules/quick-reference.mdc` - Quick command reference for common tasks
- **Agent Capabilities**: `.cursor/rules/agent-capabilities.mdc` - Detailed agent capability descriptions
- **Simple Mode Guide**: `.cursor/rules/simple-mode.mdc` - Simple Mode workflow documentation

**Note**: After running `tapps-agents init`, all command reference documentation is available in `.cursor/rules/` directory. The `command-reference.mdc` file contains the most comprehensive documentation with all commands, subcommands, parameters, and examples.

### Core Guides
- **[Architecture Overview](docs/ARCHITECTURE.md)** - System architecture and design
- **[Configuration Guide](docs/CONFIGURATION.md)** - Complete configuration reference
- **[Developer Guide](docs/DEVELOPER_GUIDE.md)** - Development setup and workflows
- **[User Role Templates Guide](docs/USER_ROLE_TEMPLATES_GUIDE.md)** - Customize agents by role (senior-dev, junior-dev, tech-lead, PM, QA)
- **[Customization Guide](docs/CUSTOMIZATION_GUIDE.md)** - Project-specific agent customizations

### Cursor AI Integration
- **[Cursor Skills Installation Guide](docs/CURSOR_SKILLS_INSTALLATION_GUIDE.md)** - Install and configure Cursor Skills
- **[Custom Skills Guide](docs/CUSTOM_SKILLS_GUIDE.md)** - Create, validate, and manage custom Skills
- **[Cursor Rules Setup Guide](docs/CURSOR_RULES_SETUP.md)** - Cursor Rules setup (auto-generated from YAML workflows)
- **[Multi-Agent Orchestration Guide](docs/MULTI_AGENT_ORCHESTRATION_GUIDE.md)** - Parallel agent execution
- **[YAML Workflow Architecture Design](docs/YAML_WORKFLOW_ARCHITECTURE_DESIGN.md)** - YAML-first architecture with generated artifacts
- **[Unified Cache Architecture](implementation/UNIFIED_CACHE_ARCHITECTURE_PLAN.md)** - Single interface for all caching systems
- **[Unified Cache Integration Guide](implementation/UNIFIED_CACHE_INTEGRATION_GUIDE.md)** - Using unified cache in agents
- **[Context7 Cache Optimization](docs/CONTEXT7_CACHE_OPTIMIZATION.md)** - Optimize cache hit rates
- **[Context7 Security & Privacy](docs/CONTEXT7_SECURITY_PRIVACY.md)** - Security best practices
- **[Playwright MCP Integration](docs/PLAYWRIGHT_MCP_INTEGRATION.md)** - Browser automation with Playwright MCP server
- **[NUC Setup Guide](docs/NUC_SETUP_GUIDE.md)** - Optimize for low-power hardware

### Operations
- **[Deployment Guide](docs/DEPLOYMENT.md)** - Production deployment instructions
- **[Troubleshooting Guide](docs/TROUBLESHOOTING.md)** - Common issues and solutions
- **[Checkpoint & Resume Guide](docs/CHECKPOINT_RESUME_GUIDE.md)** - State persistence and workflow resumption
- **[Test Suite Documentation](tests/README.md)** - Complete test suite overview and E2E test guide
- **[E2E Test Suite](tests/e2e/README.md)** - End-to-end test documentation (smoke, workflow, scenario, CLI tests)
- **[Test Performance Guide](docs/TEST_PERFORMANCE_GUIDE.md)** - Optimize test execution (5-10x faster with parallel execution)
- **[Hardware Recommendations](docs/HARDWARE_RECOMMENDATIONS.md)** - Optimal computer specs for fast development
- **[Security Policy](SECURITY.md)** - Security guidelines

### Contributing
- **[Contributing Guidelines](CONTRIBUTING.md)** - How to contribute
- **[Changelog](CHANGELOG.md)** - Version history and changes

### Version Management

When updating the version number, use the automated script to ensure all files are updated consistently:

```powershell
# Update version to 3.0.4 (or any version)
.\scripts\update_version.ps1 -Version 3.0.4

# Update core files only (skip documentation)
.\scripts\update_version.ps1 -Version 3.0.4 -SkipDocs
```

**What it updates:**
- ‚úÖ `pyproject.toml` - Package version
- ‚úÖ `tapps_agents/__init__.py` - Module version
- ‚úÖ `README.md` - Version badge and references
- ‚úÖ `docs/README.md` - Documentation version
- ‚úÖ `docs/API.md` - API version
- ‚úÖ `docs/ARCHITECTURE.md` - Architecture version
- ‚úÖ `implementation/IMPROVEMENT_PLAN.json` - Metadata version
- ‚úÖ Other documentation files with version references

**After running the script:**
1. Review changes: `git diff`
2. Update `CHANGELOG.md` with release notes
3. Commit and push changes
4. Create git tag: `git tag v3.0.4 && git push origin v3.0.4`

See [Release Guide](docs/RELEASE_GUIDE.md) for complete release process.

### Reference
- **[Project Requirements](requirements/PROJECT_REQUIREMENTS.md)** - Complete specification
- **[Technology Stack](requirements/TECH_STACK.md)** - Recommended technologies

## Status

**Phase**: ‚úÖ **All 7 Phases Complete - Cursor AI Integration Plan 2025**  
**Version**: 3.2.9  
**Last Updated**: January 2026  
**Cursor AI Integration**: ‚úÖ Complete (Phases 1-7)  
**Dependencies**: ‚úÖ Updated to latest 2025 stable versions (pytest 9.x, ruff 0.14.8, mypy 1.19.0, etc.)

### Integration Status
- ‚úÖ Phase 1: Core Agents to Skills
- ‚úÖ Phase 2: Quality Tools Integration
- ‚úÖ Phase 3: Remaining Agents + Advanced Features
- ‚úÖ Phase 5: Multi-Agent Orchestration
- ‚úÖ Phase 6: Context7 Optimization + Security
- ‚úÖ Phase 7: NUC Optimization

See [Cursor AI Integration Plan 2025](docs/CURSOR_AI_INTEGRATION_PLAN_2025.md) for complete details.

## Self-Hosting

This project uses its own framework for development:
- **5 Industry Experts** configured (AI frameworks, code quality, architecture, DevOps, documentation)
- **Enhancer Agent** actively used (23+ enhancement sessions)
- **Context7 Integration** with KB cache
- **14 Cursor Skills** available in `.claude/skills/` (13 agent skills + simple-mode)
- **NUC Optimization** enabled for resource-constrained environments
- Configuration in `.tapps-agents/` directory

See [Self-Hosting Setup](implementation/SELF_HOSTING_SETUP_COMPLETE.md) for details.

## Windows Compatibility & Encoding

**‚ö†Ô∏è CRITICAL: All scripts and code must work correctly on Windows**

This project is developed and tested on **Windows** (in addition to Linux/macOS). All scripts, tools, and code must handle Windows-specific encoding issues correctly.

### Windows Encoding Requirements

**All Python scripts MUST:**

1. **Set UTF-8 encoding for console output** (Windows uses CP1252 by default):
   ```python
   import sys
   import os
   
   # Set UTF-8 encoding for Windows console
   if sys.platform == "win32":
       os.environ["PYTHONIOENCODING"] = "utf-8"
       try:
           sys.stdout.reconfigure(encoding="utf-8")
           sys.stderr.reconfigure(encoding="utf-8")
       except AttributeError:
           # Python < 3.7 - use environment variable only
           pass
   ```

2. **Use ASCII-safe fallbacks for Unicode characters**:
   ```python
   # Use ASCII-safe symbols instead of Unicode emojis
   SUCCESS_SYMBOL = "[OK]"
   ERROR_SYMBOL = "[FAIL]"
   WARNING_SYMBOL = "[WARN]"
   
   # Or handle UnicodeEncodeError gracefully
   try:
       print(f"{GREEN}‚úÖ {text}{RESET}")
   except UnicodeEncodeError:
       print(f"[OK] {text}")
   ```

3. **Always specify encoding when opening files**:
   ```python
   # ‚úÖ CORRECT - Always specify encoding
   with open("file.txt", "r", encoding="utf-8") as f:
       content = f.read()
   
   # ‚ùå WRONG - Relies on system default (CP1252 on Windows)
   with open("file.txt", "r") as f:
       content = f.read()
   ```

4. **Test on Windows before committing**:
   - Run all scripts on Windows to verify encoding works
   - Use PowerShell or Command Prompt (not just WSL)
   - Verify Unicode characters display correctly

### Why This Matters

- **Windows default encoding is CP1252**, not UTF-8
- **Unicode emojis (‚úÖ, ‚ùå, ‚ö†Ô∏è) fail on Windows** without proper encoding setup
- **File I/O without explicit encoding** can cause `UnicodeDecodeError` on Windows
- **GitHub Actions runs on Linux**, but developers use Windows - both must work

### Testing on Windows

Before committing code that prints to console or reads files:

```bash
# Test script on Windows PowerShell
python scripts/your_script.py

# Verify no encoding errors
# Check that Unicode characters display correctly
# Or use ASCII-safe alternatives
```

**Reference**: See [Python 3.10 Documentation - Windows Encoding](https://docs.python.org/3.10/library/sys.html) for official guidance.

## GitHub Best Practices (2025)

This project follows 2025 GitHub best practices for open-source development:

### ‚úÖ Automated Dependency Management
- **Dependabot** configured for automated dependency updates (weekly for pip, monthly for GitHub Actions)
- Dependency grouping to reduce PR noise
- Automatic security vulnerability scanning

### ‚úÖ Code Review & Ownership
- **CODEOWNERS** file for automatic code review assignments
- Clear ownership structure for different parts of the codebase

### ‚úÖ Issue & Pull Request Templates
- Structured **bug report** template for consistent issue reporting
- **Feature request** template for enhancement proposals
- **Pull request** template with checklist and guidelines
- Issue templates guide users to appropriate channels (Discussions, Security Advisories)

### ‚úÖ Continuous Integration
- **GitHub Actions** workflows with:
  - Separate jobs for linting, type checking, and testing
  - Concurrency control to cancel in-progress runs
  - Caching for faster builds
  - Coverage reporting with Codecov integration
  - Latest action versions (actions/checkout@v4, actions/setup-python@v5, codecov/codecov-action@v4)

### ‚úÖ Security
- **SECURITY.md** with vulnerability reporting guidelines
- Security best practices documentation
- Automated dependency vulnerability scanning

### ‚úÖ Documentation
- Comprehensive **README.md** with clear project overview
- **CONTRIBUTING.md** with contribution guidelines
- **CHANGELOG.md** following Keep a Changelog format
- Extensive documentation in `docs/` directory

### ‚úÖ Project Health
- Clear license (MIT) in LICENSE file
- Community guidelines in CONTRIBUTING.md
- Security policy in SECURITY.md
- Issue templates for better issue management

## License

See [LICENSE](LICENSE) file for details.
