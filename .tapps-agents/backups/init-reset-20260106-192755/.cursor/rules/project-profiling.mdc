---
description: Documentation of TappsCodingAgents automatic project profiling system for context-aware recommendations
alwaysApply: false
---

# Project Profiling System

## Overview

TappsCodingAgents automatically detects and profiles project characteristics to provide context-aware recommendations and ensure compliance with project constraints. This profiling happens automatically during workflow execution and requires no manual configuration.

## Automatic Detection

The profiling system analyzes your codebase to detect:

### Deployment Type
- **Cloud**: AWS, Azure, GCP, or other cloud providers
- **On-Premise**: Self-hosted infrastructure
- **Hybrid**: Combination of cloud and on-premise
- **Serverless**: Function-as-a-Service (Lambda, Cloud Functions, etc.)
- **Container**: Docker, Kubernetes, or container orchestration

### Tenancy Model
- **Single-Tenant**: One customer per instance
- **Multi-Tenant**: Multiple customers share resources
- **Hybrid**: Mix of single and multi-tenant components

### User Scale
- **Small**: < 1,000 users
- **Medium**: 1,000 - 100,000 users
- **Large**: 100,000 - 1,000,000 users
- **Enterprise**: > 1,000,000 users

### Compliance Requirements
- **HIPAA**: Healthcare data protection
- **GDPR**: European data privacy
- **PCI DSS**: Payment card industry
- **SOC 2**: Security and availability
- **ISO 27001**: Information security management
- **None**: No specific compliance requirements

### Security Level
- **Low**: Basic security requirements
- **Medium**: Standard security practices
- **High**: Enhanced security controls
- **Critical**: Maximum security requirements

## Profile Storage

**Location:** `.tapps-agents/project-profile.yaml`

**Format:**
```yaml
deployment_type: cloud
tenancy: multi-tenant
user_scale: large
compliance:
  - GDPR
  - SOC 2
security_level: high
detected_at: 2025-12-13T10:00:00Z
```

## How It Works

### Detection Process

1. **Codebase Analysis**: Scans project files for indicators
   - Infrastructure as Code (Terraform, CloudFormation)
   - Deployment configurations (Docker, Kubernetes)
   - Database schemas and data models
   - Security configurations
   - Compliance documentation

2. **Pattern Matching**: Identifies patterns that indicate:
   - Deployment type (cloud provider configs, serverless functions)
   - Tenancy model (tenant_id fields, isolation patterns)
   - Scale indicators (caching, load balancing, scaling configs)
   - Compliance (privacy policies, security docs, compliance mentions)
   - Security level (encryption, authentication, authorization patterns)

3. **Profile Generation**: Creates profile YAML file with detected characteristics

4. **Context Injection**: Automatically includes profile in all agent commands

### When Detection Happens

- **First Workflow Run**: Profile is created during initial workflow execution
- **Project Initialization**: Can be generated during `tapps-agents init` (optional)
- **Manual Refresh**: Profile can be regenerated by deleting the file

## Usage in Workflows

### Automatic Inclusion

Project profile is **automatically included** in all agent commands:

- **Analyst**: Uses profile for requirements analysis and risk assessment
- **Planner**: Ensures stories align with project constraints
- **Architect**: Designs architecture matching deployment and tenancy model
- **Designer**: Creates APIs and data models with compliance in mind
- **Implementer**: Generates code following security and compliance requirements
- **Ops**: Performs audits based on compliance and security level

### Example Impact

**Multi-Tenant Project:**
- Architect designs tenant isolation patterns
- Designer creates APIs with tenant context
- Implementer adds tenant_id to all data models
- Ops ensures tenant data isolation

**GDPR-Compliant Project:**
- Designer includes data privacy fields (consent, right to deletion)
- Implementer adds data export and deletion endpoints
- Ops verifies GDPR compliance in audit

**High-Security Project:**
- Architect designs defense-in-depth security
- Implementer adds encryption, authentication, authorization
- Reviewer checks for security vulnerabilities
- Ops performs comprehensive security audit

## Manual Override

If automatic detection is incorrect, you can manually edit `.tapps-agents/project-profile.yaml`:

```yaml
deployment_type: cloud  # Override detected value
tenancy: multi-tenant
user_scale: large
compliance:
  - GDPR
  - HIPAA  # Add additional compliance
security_level: critical  # Increase security level
```

**Note:** Manual edits are preserved and not overwritten by automatic detection.

## Best Practices

1. **Review Profile**: Check `.tapps-agents/project-profile.yaml` after first workflow run
2. **Update as Needed**: Manually update if project characteristics change
3. **Share with Team**: Commit profile to version control for team consistency
4. **Use in CI/CD**: Reference profile in CI/CD pipelines for compliance checks

## Integration with Agents

### Analyst Agent
- Uses profile for requirements analysis
- Considers compliance requirements in risk assessment
- Adjusts effort estimates based on security level

### Planner Agent
- Creates stories aligned with project constraints
- Prioritizes compliance-related stories
- Estimates effort considering security requirements

### Architect Agent
- Designs architecture matching deployment type
- Implements tenant isolation for multi-tenant projects
- Includes security architecture for high-security projects

### Designer Agent
- Creates APIs with tenant context (multi-tenant)
- Includes compliance fields (GDPR, HIPAA)
- Designs data models with security in mind

### Implementer Agent
- Generates code following security best practices
- Adds compliance-related functionality
- Implements tenant isolation patterns

### Ops Agent
- Performs audits based on compliance requirements
- Verifies security controls match security level
- Checks deployment configuration matches deployment type

## Troubleshooting

### Profile Not Detected
- **Issue**: Profile file doesn't exist
- **Solution**: Run a workflow - profile is created automatically

### Incorrect Detection
- **Issue**: Profile shows wrong characteristics
- **Solution**: Manually edit `.tapps-agents/project-profile.yaml`

### Profile Not Used
- **Issue**: Agents don't seem to use profile
- **Solution**: Ensure profile file exists and is valid YAML

## Related Documentation

- [Quick Reference](quick-reference.mdc) - Command reference
- [Agent Capabilities](agent-capabilities.mdc) - Agent documentation
- [Cursor Native Integration](../../../CURSOR_NATIVE_INTEGRATION_DESIGN.md) - Integration details
